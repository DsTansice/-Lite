<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="空中有零，零域，分享快乐，音乐，心得，生活，电影，代码，编程，考试，学业，零式的天空，凌空博客，原零空博客，原Tans博客，现零的小屋官方博客，计算机，音乐，电脑，编程，生活，分享"><meta name="description" content="一个技术控，爱技术，爱分享，爱音乐"><meta name="author" content="Pin Young"><title>「SF-PLF」13 References | 零域</title><link rel="stylesheet" href="/css/style.css"><link rel="shortcut icon" href="/img/favicon.png"><link rel="stylesheet" href="/font/css/fontawesome.min.css"><link rel="stylesheet" href="/font/css/regular.min.css"><link rel="stylesheet" href="/font/css/solid.min.css"><link rel="stylesheet" href="/font/css/brands.min.css"><script id="hexo-configurations">let KEEP=window.KEEP||{};KEEP.hexo_config={hostname:"0skyu.cn",root:"/",language:"zh-CN",path:"search.xml"},KEEP.theme_config={toc:{enable:!0,number:!0,expand_all:!0,init_open:!0},style:{primary_color:"#EE5A24",logo:"/img/favicon.png",favicon:"/img/favicon.png",avatar:"img/1.jpg",font_size:null,font_family:null,hover:{shadow:!0,scale:!1},first_screen:{enable:!0,header_transparent:!1,background_img:"/img/bg/333.jpg",description:"Keep writing and Keep loving.",font_color:"#f0d21a",hitokoto:!0},scroll:{progress_bar:!0,percent:!1}},local_search:{enable:!0,preload:!0},code_copy:{},code_block:{tools:{enable:!0,style:"default"},highlight_theme:"default"},side_tools:{},pjax:{enable:!0},lazyload:{enable:!0},comment:{enable:!1,use:"gitalk",valine:{appid:null,appkey:null,server_urls:null,placeholder:null},gitalk:{github_id:"DsTansice",github_admins:"DsTansice",repository:"Null-Comment",client_id:"b109b534b2268088d780",client_secret:"7808e138a1ffbcd9f02bb39cc1ee7fb41828c52f",proxy:null},twikoo:{env_id:"twikoo-0skyucn-1gkzaji32bb03146",region:null,version:"1.6.8"},waline:{server_url:null,reaction:!1,version:2}},post:{author_label:{enable:!0,auto:!0,custom_label_list:["Trainee","Engineer","Architect"]},word_count:{enable:!0,wordcount:!0,min2read:!0},img_align:"left",copyright_info:!0},version:"3.6.1"},KEEP.language_ago={second:"%s 秒前",minute:"%s 分钟前",hour:"%s 小时前",day:"%s 天前",week:"%s 周前",month:"%s 个月前",year:"%s 年前"},KEEP.language_code_block={copy:"复制代码",copied:"已复制",fold:"折叠代码块",folded:"已折叠"},KEEP.language_copy_copyright={copy:"复制版权信息",copied:"已复制",title:"原文标题",author:"原文作者",link:"原文链接"}</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="零域" type="application/atom+xml">
</head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span> <span class="pjax-progress-bar"></span> <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i></div><main class="page-container"><div class="page-main-content"><div class="page-main-content-top"><header class="header-wrapper"><div class="header-content"><div class="left"><a class="logo-image" href="/"><img src="/img/favicon.png"> </a><a class="logo-title" href="/">零域</a></div><div class="right"><div class="pc"><ul class="menu-list"><li class="menu-item"><a href="/">首页</a></li><li class="menu-item"><a href="/archives">归档</a></li><li class="menu-item"><a href="/tags">标签</a></li><li class="menu-item"><a href="/categories">分类</a></li><li class="menu-item"><a href="/links">友链</a></li><li class="menu-item"><a target="_blank" rel="noopener" href="https://hao.0skyu.cn/">HAO</a></li><li class="menu-item search search-popup-trigger"><i class="fas fa-search"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div><div class="icon-item menu-bar"><div class="menu-bar-middle"></div></div></div></div></div><div class="header-drawer"><ul class="drawer-menu-list"><li class="drawer-menu-item flex-center"><a href="/">首页</a></li><li class="drawer-menu-item flex-center"><a href="/archives">归档</a></li><li class="drawer-menu-item flex-center"><a href="/tags">标签</a></li><li class="drawer-menu-item flex-center"><a href="/categories">分类</a></li><li class="drawer-menu-item flex-center"><a href="/links">友链</a></li><li class="drawer-menu-item flex-center"><a target="_blank" rel="noopener" href="https://hao.0skyu.cn/">HAO</a></li></ul></div><div class="window-mask"></div></header></div><div class="page-main-content-middle"><div class="main-content"><div class="fade-in-down-animation"><div class="post-page-container"><div class="article-content-container"><div class="article-title"><span class="title-hover-animation">「SF-PLF」13 References</span></div><div class="article-header"><div class="avatar"><img src="/img/1.jpg"></div><div class="info"><div class="author"><span class="name">Pin Young</span> <span class="author-label">Lv9</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fa-regular fa-calendar-plus"></i>&nbsp; <span class="pc">2021-03-28 00:00:00</span> <span class="mobile">2021-03-28 00:00</span> </span><span class="article-update-date article-meta-item"><i class="fas fa-file-pen"></i>&nbsp; <span class="pc">2023-02-02 13:37:46</span> </span><span class="article-tags article-meta-item"><i class="fas fa-tags"></i>&nbsp;<ul><li><a href="/tags/SF-%E8%BD%AF%E4%BB%B6%E5%9F%BA%E7%A1%80/">SF (软件基础)</a>&nbsp;</li><li>| <a href="/tags/Coq/">Coq</a>&nbsp;</li><li>| <a href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a>&nbsp;</li><li>| <a href="/tags/PLF-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/">PLF (编程语言基础)</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fas fa-file-word"></i>&nbsp;<span>886 字</span> </span><span class="article-min2read article-meta-item"><i class="fas fa-clock"></i>&nbsp;<span>5 分钟</span> </span><span class="article-pv article-meta-item"><i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content keep-markdown-body"><blockquote><p>Hux: this chapter is very similar to TAPL - ch13 References<br>But under a “formal verification” concept, it’s more interesting and practical and push you to think about it!</p></blockquote><p><em>computational effects</em> - “side effects” of computation - <em>impure</em> features</p><ul><li>assign to mutable variables (reference cells, arrays, mutable record fields, etc.)</li><li>perform input and output to files, displays, or network connections;</li><li>make non-local transfers of control via exceptions, jumps, or continuations;</li><li>engage in inter-process synchronization and communication</li></ul><blockquote><p>The main extension will be dealing explicitly with a</p><ul><li><em>store</em> (or <em>heap</em>) and</li><li><em>pointers</em> (or <em>reference</em>) that name <em>store locations</em>, or <em>address</em>…</li></ul></blockquote><p>interesting refinement: type preservation</p><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>forms of assignments:</p><ul><li>rare : Gallina - No</li><li>some : ML family - Explicit <em>reference</em> and <em>dereference</em></li><li>most : C family - Implicit …</li></ul><p>For formal study, use ML’s model.</p><h2 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h2><h3 id="Types-amp-Terms"><a href="#Types-amp-Terms" class="headerlink" title="Types &amp; Terms"></a>Types &amp; Terms</h3><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">T ::= </span><br><span class="line">    | <span class="type">Nat</span></span><br><span class="line">    | <span class="type">Unit</span></span><br><span class="line">    | <span class="type">T</span> → T</span><br><span class="line">    | <span class="type">Ref</span> T</span><br><span class="line"></span><br><span class="line">t ::= </span><br><span class="line">    | <span class="type">...                Terms</span></span><br><span class="line">    | <span class="type">ref</span> t              allocation</span><br><span class="line">    | <span class="type">!t</span>                 dereference</span><br><span class="line">    | <span class="type">t</span> := t             assignment</span><br><span class="line">    | <span class="type">l</span>                  location</span><br></pre></td></tr></table></figure><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Inductive</span> ty : <span class="keyword">Type</span> :=</span><br><span class="line">  | <span class="type">Nat</span> : ty</span><br><span class="line">  | <span class="type">Unit</span> : ty</span><br><span class="line">  | <span class="type">Arrow</span> : ty → ty → ty</span><br><span class="line">  | <span class="type">Ref</span> : ty → ty.</span><br><span class="line"></span><br><span class="line"><span class="keyword">Inductive</span> tm : <span class="keyword">Type</span> :=</span><br><span class="line">  <span class="comment">(* STLC with numbers: *)</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">(* New terms: *)</span></span><br><span class="line">  | <span class="type">unit</span> : tm</span><br><span class="line">  | <span class="type">ref</span> : tm → tm</span><br><span class="line">  | <span class="type">deref</span> : tm → tm</span><br><span class="line">  | <span class="type">assign</span> : tm → tm → tm</span><br><span class="line">  | <span class="type">loc</span> : nat → tm.         <span class="comment">(** 这里表示 l 的方式是 wrap 一个 nat as loc **)</span></span><br></pre></td></tr></table></figure><h3 id="Typing"><a href="#Typing" class="headerlink" title="Typing"></a>Typing</h3><pre><code>                       Gamma |- t1 : T1
                   ------------------------                         (T_Ref)
                   Gamma |- ref t1 : Ref T1

                    Gamma |- t1 : Ref T11
                    ---------------------                         (T_Deref)
                      Gamma |- !t1 : T11

                    Gamma |- t1 : Ref T11
                      Gamma |- t2 : T11
                   ------------------------                      (T_Assign)
                   Gamma |- t1 := t2 : Unit
</code></pre><h3 id="Values-and-Substitution"><a href="#Values-and-Substitution" class="headerlink" title="Values and Substitution"></a>Values and Substitution</h3><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Inductive</span> value : tm → <span class="keyword">Prop</span> :=</span><br><span class="line">  ...</span><br><span class="line">  | <span class="type">v_unit</span> :     value unit</span><br><span class="line">  | <span class="type">v_loc</span>  : ∀l, value (loc l).  <span class="comment">(* &lt;-- 注意这里是一个 Π (l:nat) . value (loc l) *)</span></span><br></pre></td></tr></table></figure><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Fixpoint</span> <span class="built_in">subst</span> (x:string) (s:tm) (t:tm) : tm :=</span><br><span class="line">  <span class="keyword">match</span> t <span class="built_in">with</span></span><br><span class="line">  ...</span><br><span class="line">  | <span class="type">unit</span>         ⇒ t</span><br><span class="line">  | <span class="type">ref</span> t1       ⇒ ref (<span class="built_in">subst</span> x s t1)</span><br><span class="line">  | <span class="type">deref</span> t1     ⇒ deref (<span class="built_in">subst</span> x s t1)</span><br><span class="line">  | <span class="type">assign</span> t1 t2 ⇒ assign (<span class="built_in">subst</span> x s t1) (<span class="built_in">subst</span> x s t2)</span><br><span class="line">  | <span class="type">loc</span> <span class="keyword">_</span>        ⇒ t</span><br><span class="line">  <span class="keyword">end</span>.</span><br></pre></td></tr></table></figure><h2 id="Pragmatics"><a href="#Pragmatics" class="headerlink" title="Pragmatics"></a>Pragmatics</h2><h3 id="Side-Effects-and-Sequencing"><a href="#Side-Effects-and-Sequencing" class="headerlink" title="Side Effects and Sequencing"></a>Side Effects and Sequencing</h3><pre><code>r:=succ(!r); !r
</code></pre><p>can be desugar to</p><pre><code>(\x:Unit. !r) (r:=succ(!r)).
</code></pre><p>then we can write some “imperative programming”</p><pre><code>r:=succ(!r); 
r:=succ(!r); 
r:=succ(!r); 
!r
</code></pre><h3 id="References-and-Aliasing"><a href="#References-and-Aliasing" class="headerlink" title="References and Aliasing"></a>References and Aliasing</h3><p><em>shared reference</em> brings _<em>shared state</em></p><pre><code>let r = ref 5 in
let s = r in
s := 82;
(!r)+1
</code></pre><h3 id="Shared-State"><a href="#Shared-State" class="headerlink" title="Shared State"></a>Shared State</h3><p><em>thunks</em> as <em>methods</em></p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="title">let</span> c = ref <span class="number">0</span> <span class="keyword">in</span></span><br><span class="line"><span class="title">let</span> incc = \_:<span class="type">Unit</span>. (c := succ (!c); !c) <span class="keyword">in</span></span><br><span class="line"><span class="title">let</span> decc = \_:<span class="type">Unit</span>. (c := pred (!c); !c) <span class="keyword">in</span> (</span><br><span class="line">  incc unit; </span><br><span class="line">  incc unit;          <span class="comment">-- in real PL: the concrete syntax is `incc()`</span></span><br><span class="line">  decc unit</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h3><p><em>constructor</em> and <em>encapsulation</em>!</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="title">newcounter</span> =</span><br><span class="line">  \_:<span class="type">Unit</span>.            <span class="comment">-- add `(self, init_val)` would make it more &quot;real&quot;</span></span><br><span class="line">    <span class="keyword">let</span> c = ref <span class="number">0</span> <span class="keyword">in</span>  <span class="comment">-- private and only accessible via closure (特权方法)</span></span><br><span class="line">    <span class="keyword">let</span> incc = \_:<span class="type">Unit</span>. (c := succ (!c); !c) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">let</span> decc = \_:<span class="type">Unit</span>. (c := pred (!c); !c) <span class="keyword">in</span></span><br><span class="line">    &#123; i=incc, </span><br><span class="line">      d=decc  &#125;       <span class="comment">-- return a &quot;record&quot;, or &quot;struct&quot;, or &quot;object&quot;!</span></span><br><span class="line">      </span><br></pre></td></tr></table></figure><h3 id="References-to-Compound-Types-e-g-Function-Type"><a href="#References-to-Compound-Types-e-g-Function-Type" class="headerlink" title="References to Compound Types (e.g. Function Type)"></a>References to Compound Types (e.g. Function Type)</h3><p>Previously, we use <em>closure</em> to represent <em>map</em>, with <em>functional update</em><br>这里的”数组” （这个到底算不算数组估计都有争议，虽然的确提供了 index 但是这个显然是 O(n) 都不知道算不算 random access…<br>并不是 in-place update 里面的数据的，仅仅是一个 <code>ref</code> 包住的 map 而已 （仅仅是多了可以 shared</p><p>其实或许 <code>list (ref nat)</code> 也可以表达数组？ 反正都是 O(n) 每次都 linear search 也一样……</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="title">newarray</span> = \_:<span class="type">Unit</span>. ref (\n:<span class="type">Nat</span>.<span class="number">0</span>)</span><br><span class="line"><span class="title">lookup</span> = \a:<span class="type">NatArray</span>. \n:<span class="type">Nat</span>. (!a) n   </span><br><span class="line"><span class="title">update</span> = \a:<span class="type">NatArray</span>. \m:<span class="type">Nat</span>. \v:<span class="type">Nat</span>.</span><br><span class="line">           <span class="keyword">let</span> oldf = !a <span class="keyword">in</span></span><br><span class="line">           a := (\n:<span class="type">Nat</span>. <span class="keyword">if</span> equal m n <span class="keyword">then</span> v <span class="keyword">else</span> oldf n);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Null-References"><a href="#Null-References" class="headerlink" title="Null References"></a>Null References</h3><p><em>nullptr</em>!</p><p>Deref a nullptr:</p><ul><li>exception in Java&#x2F;C#</li><li>insecure in C&#x2F;C++ &lt;– violate memory safety!!</li></ul><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="type">Option</span> <span class="type">T</span>   = <span class="type">Unit</span> + <span class="type">T</span></span></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="type">Nullable</span> <span class="type">T</span> = <span class="type">Option</span> (<span class="type">Ref</span> <span class="type">T</span>)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Why is <code>Option</code> outside?<br>think about C, <code>nullptr</code> is A special <em>const</em> location, like <code>Unit</code> (<code>None</code> in terms of datacon) here.</p><h3 id="Garbage-Collection"><a href="#Garbage-Collection" class="headerlink" title="Garbage Collection"></a>Garbage Collection</h3><p>last issue: store <em>de-allocation</em></p><blockquote><p>w&#x2F;o GC, extremely difficult to achieve type safety…if a primitive for “explicit deallocation” provided<br>one can easily create <em>dangling reference</em> i.e. references -&gt; deleted</p></blockquote><p>One type-unsafe example: (pseudo code)</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="title">a</span> : <span class="type">Ref</span> <span class="type">Nat</span> = ref <span class="number">1</span>;       <span class="comment">-- alloc loc 0</span></span><br><span class="line"><span class="title">free</span>(a);                   <span class="comment">-- free  loc 0</span></span><br><span class="line"><span class="title">b</span> : <span class="type">Ref</span> <span class="type">Bool</span> = ref <span class="type">True</span>;   <span class="comment">-- alloc loc 0</span></span><br><span class="line"></span><br><span class="line"><span class="title">a</span> := !a + <span class="number">1</span>                <span class="comment">-- BOOM!</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Operational-Semantics"><a href="#Operational-Semantics" class="headerlink" title="Operational Semantics"></a>Operational Semantics</h2><h3 id="Locations"><a href="#Locations" class="headerlink" title="Locations"></a>Locations</h3><blockquote><p>what should be the <em>values</em> of type <code>Ref T</code>?</p></blockquote><p><code>ref</code> allocate some memory&#x2F;storage!</p><blockquote><p>run-time store is essentially big array of bytes.<br>different datatype need to allocate different size of space (region)</p></blockquote><blockquote><p>we think store as <em>array of values</em>, <em>abstracting away different size of different values</em><br>we use the word <em>location</em> here to prevent from modeling <em>pointer arithmetic</em>, which is un-trackable by most type system</p></blockquote><p>location <code>n</code> is <code>float</code> doesn’t tell you anything about location <code>n+4</code>…</p><h3 id="Stores"><a href="#Stores" class="headerlink" title="Stores"></a>Stores</h3><p>we defined <code>replace</code> as <code>Fixpoint</code> since it’s computational and easier. The consequence is it has to be total.</p><h3 id="Reduction"><a href="#Reduction" class="headerlink" title="Reduction"></a>Reduction</h3><h2 id="Typing-1"><a href="#Typing-1" class="headerlink" title="Typing"></a>Typing</h2><p>typing context:</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Definition</span> context := partial_map ty.</span><br></pre></td></tr></table></figure><h3 id="Store-typings"><a href="#Store-typings" class="headerlink" title="Store typings"></a>Store typings</h3><p>why not just make a <em>context</em> a map of pair?<br>we don’t want to complicate the dynamics of language,<br>and this store typing is only for type check.</p><h3 id="The-Typing-Relation"><a href="#The-Typing-Relation" class="headerlink" title="The Typing Relation"></a>The Typing Relation</h3><h2 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h2><h3 id="Well-Typed-Stores"><a href="#Well-Typed-Stores" class="headerlink" title="Well-Typed Stores"></a>Well-Typed Stores</h3><h3 id="Extending-Store-Typings"><a href="#Extending-Store-Typings" class="headerlink" title="Extending Store Typings"></a>Extending Store Typings</h3><h3 id="Preservation-Finally"><a href="#Preservation-Finally" class="headerlink" title="Preservation, Finally"></a>Preservation, Finally</h3><h3 id="Substitution-Lemma"><a href="#Substitution-Lemma" class="headerlink" title="Substitution Lemma"></a>Substitution Lemma</h3><h3 id="Assignment-Preserves-Store-Typing"><a href="#Assignment-Preserves-Store-Typing" class="headerlink" title="Assignment Preserves Store Typing"></a>Assignment Preserves Store Typing</h3><h3 id="Weakening-for-Stores"><a href="#Weakening-for-Stores" class="headerlink" title="Weakening for Stores"></a>Weakening for Stores</h3><h3 id="Preservation"><a href="#Preservation" class="headerlink" title="Preservation!"></a>Preservation!</h3><h3 id="Progress"><a href="#Progress" class="headerlink" title="Progress"></a>Progress</h3><h2 id="References-and-Nontermination"><a href="#References-and-Nontermination" class="headerlink" title="References and Nontermination"></a>References and Nontermination</h2></div><div class="post-copyright-info"><div class="article-copyright-info-container"><ul class="copyright-info-content"><li class="post-title"><span class="type">本文标题</span>：<span class="content">「SF-PLF」13 References</span></li><li class="post-author"><span class="type">本文作者</span>：<span class="content">Pin Young</span></li><li class="post-time"><span class="type">创建时间</span>：<span class="content">2021-03-28 00:00:00</span></li><li class="post-link"><span class="type">本文链接</span>：<span class="content">posts/ed68.html</span></li><li class="post-license"><span class="type">版权声明</span>：<span class="content">本博客所有文章除特别声明外，均采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> 许可协议。转载请注明出处！</span></li></ul><div class="copy-copyright-info flex-center tooltip" data-content="复制版权信息" data-offset-y="-2px"><i class="fa-solid fa-copy"></i></div></div></div><ul class="post-tags-box"><li class="tag-item"><a href="/tags/SF-%E8%BD%AF%E4%BB%B6%E5%9F%BA%E7%A1%80/">#SF (软件基础)</a>&nbsp;</li><li class="tag-item"><a href="/tags/Coq/">#Coq</a>&nbsp;</li><li class="tag-item"><a href="/tags/%E7%AC%94%E8%AE%B0/">#笔记</a>&nbsp;</li><li class="tag-item"><a href="/tags/PLF-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/">#PLF (编程语言基础)</a>&nbsp;</li></ul><div class="article-nav"><div class="article-prev"><a class="prev" rel="prev" href="/posts/a84a.html"><span class="left arrow-icon flex-center"><i class="fas fa-chevron-left"></i> </span><span class="title flex-center"><span class="post-nav-title-item">「SF-PLF」12 Records</span> <span class="post-nav-item">上一篇</span></span></a></div><div class="article-next"><a class="next" rel="next" href="/posts/e58e.html"><span class="title flex-center"><span class="post-nav-title-item">「SF-PLF」14 RecordSub</span> <span class="post-nav-item">下一篇</span> </span><span class="right arrow-icon flex-center"><i class="fas fa-chevron-right"></i></span></a></div></div></div><div class="toc-content-container"><div class="post-toc-wrap"><div class="post-toc"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Definition"><span class="nav-number">1.</span> <span class="nav-text">Definition</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Syntax"><span class="nav-number">2.</span> <span class="nav-text">Syntax</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Types-amp-Terms"><span class="nav-number">2.1.</span> <span class="nav-text">Types &amp; Terms</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Typing"><span class="nav-number">2.2.</span> <span class="nav-text">Typing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Values-and-Substitution"><span class="nav-number">2.3.</span> <span class="nav-text">Values and Substitution</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Pragmatics"><span class="nav-number">3.</span> <span class="nav-text">Pragmatics</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Side-Effects-and-Sequencing"><span class="nav-number">3.1.</span> <span class="nav-text">Side Effects and Sequencing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#References-and-Aliasing"><span class="nav-number">3.2.</span> <span class="nav-text">References and Aliasing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Shared-State"><span class="nav-number">3.3.</span> <span class="nav-text">Shared State</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Objects"><span class="nav-number">3.4.</span> <span class="nav-text">Objects</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#References-to-Compound-Types-e-g-Function-Type"><span class="nav-number">3.5.</span> <span class="nav-text">References to Compound Types (e.g. Function Type)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Null-References"><span class="nav-number">3.6.</span> <span class="nav-text">Null References</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Garbage-Collection"><span class="nav-number">3.7.</span> <span class="nav-text">Garbage Collection</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Operational-Semantics"><span class="nav-number">4.</span> <span class="nav-text">Operational Semantics</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Locations"><span class="nav-number">4.1.</span> <span class="nav-text">Locations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Stores"><span class="nav-number">4.2.</span> <span class="nav-text">Stores</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reduction"><span class="nav-number">4.3.</span> <span class="nav-text">Reduction</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Typing-1"><span class="nav-number">5.</span> <span class="nav-text">Typing</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Store-typings"><span class="nav-number">5.1.</span> <span class="nav-text">Store typings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Typing-Relation"><span class="nav-number">5.2.</span> <span class="nav-text">The Typing Relation</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Properties"><span class="nav-number">6.</span> <span class="nav-text">Properties</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Well-Typed-Stores"><span class="nav-number">6.1.</span> <span class="nav-text">Well-Typed Stores</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Extending-Store-Typings"><span class="nav-number">6.2.</span> <span class="nav-text">Extending Store Typings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Preservation-Finally"><span class="nav-number">6.3.</span> <span class="nav-text">Preservation, Finally</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Substitution-Lemma"><span class="nav-number">6.4.</span> <span class="nav-text">Substitution Lemma</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Assignment-Preserves-Store-Typing"><span class="nav-number">6.5.</span> <span class="nav-text">Assignment Preserves Store Typing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Weakening-for-Stores"><span class="nav-number">6.6.</span> <span class="nav-text">Weakening for Stores</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Preservation"><span class="nav-number">6.7.</span> <span class="nav-text">Preservation!</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Progress"><span class="nav-number">6.8.</span> <span class="nav-text">Progress</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#References-and-Nontermination"><span class="nav-number">7.</span> <span class="nav-text">References and Nontermination</span></a></li></ol></div></div></div></div></div></div></div><div class="page-main-content-bottom"><footer class="footer"><div class="info-container"><div class="copyright-info info-item">&copy; <span>2014</span> - 2023 &nbsp;<i class="fas fa-heart icon-animate"></i> &nbsp;<a href="/">Pin Young</a></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="website-count info-item">访问人数&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp; 总访问量&nbsp;<span id="busuanzi_value_site_pv"></span></div><div class="theme-info info-item">由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动&nbsp;|&nbsp;主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/dstansice">零域Lite 1.1</a></div><script async defer data-website-id="b3b1feba-ef0f-4367-ba34-6a0152b8749b" src="https://analysis.0skyu.cn/umami.js"></script><div class="icp-info info-item"><div class="theme-info info-item"><a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=12011002021027" style="display:inline-block;text-decoration:none;height:20px;line-height:20px"><img src="https://0skyu.cn/beian.png" style="float:left"><p style="float:left;height:20px;line-height:20px;margin:0 0 0 5px;color:#939393">津公网安备 12011002021027号</p></a></div><div class="theme-info info-item"><center><a target="_blank" rel="nofollow" href="https://beian.miit.gov.cn">津ICP备2021004482号-1</a></center></div></div></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="tools-list"><li class="tools-item flex-center toggle-show-toc"><i class="fas fa-list"></i></li></ul></div></div><div class="right-bottom-side-tools"><div class="side-tools-container"><ul class="side-tools-list"><li class="tools-item tool-font-adjust-plus flex-center"><i class="fas fa-search-plus"></i></li><li class="tools-item tool-font-adjust-minus flex-center"><i class="fas fa-search-minus"></i></li><li class="tools-item tool-dark-light-toggle flex-center"><i class="fas fa-moon"></i></li><li class="tools-item rss flex-center"><a class="flex-center" href="/atom.xml" target="_blank"><i class="fas fa-rss"></i></a></li><li class="tools-item tool-scroll-to-top flex-center"><i class="fas fa-arrow-up"></i></li><li class="tools-item tool-scroll-to-bottom flex-center"><i class="fas fa-arrow-down"></i></li></ul><ul class="exposed-tools-list"><li class="tools-item tool-toggle-show flex-center"><i class="fas fa-cog fa-spin"></i></li></ul></div></div><div class="zoom-in-image-mask"><img class="zoom-in-image"></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fas fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="close-popup-btn"><i class="fas fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/header-shrink.js"></script><script src="/js/back2top.js"></script><script src="/js/dark-light-toggle.js"></script><script src="/js/local-search.js"></script><script src="/js/code-block.js"></script><script src="/js/lazyload.js"></script><div class="post-scripts pjax"><script src="/js/post-helper.js"></script><script src="/js/libs/anime.min.js"></script><script src="/js/toc.js"></script></div><script src="/js/libs/pjax.min.js"></script><script>window.addEventListener("DOMContentLoaded",()=>{window.pjax=new Pjax({selectors:["head title",".page-container",".pjax"],history:!0,debug:!1,cacheBust:!1,timeout:0,analytics:!1,currentUrlFullReload:!1,scrollRestoration:!1}),document.addEventListener("pjax:send",()=>{KEEP.utils.pjaxProgressBarStart()}),document.addEventListener("pjax:complete",()=>{KEEP.utils.pjaxProgressBarEnd(),window.pjax.executeScripts(document.querySelectorAll("script[data-pjax], .pjax script")),KEEP.refresh()})})</script></body></html>
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="空中有零，零域，分享快乐，音乐，心得，生活，电影，代码，编程，考试，学业，零式的天空，凌空博客，原零空博客，原Tans博客，现零的小屋官方博客，计算机，音乐，电脑，编程，生活，分享">
    <meta name="description" content="一个技术控，爱技术，爱分享，爱音乐">
    <meta name="author" content="Pin Young">
    
    <title>
        
            「SF-PLF」7 Stlc |
        
        零域
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/img/favicon.png">
    
<link rel="stylesheet" href="/font/css/fontawesome.min.css">

    
<link rel="stylesheet" href="/font/css/regular.min.css">

    
<link rel="stylesheet" href="/font/css/solid.min.css">

    
<link rel="stylesheet" href="/font/css/brands.min.css">

    
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"0skyu.cn","root":"/","language":"zh-CN","path":"search.xml"}
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"#EE5A24","logo":"/img/favicon.png","favicon":"/img/favicon.png","avatar":"img/1.jpg","font_size":null,"font_family":null,"hover":{"shadow":true,"scale":false},"first_screen":{"enable":true,"header_transparent":false,"background_img":"/img/bg/333.jpg","description":"Keep writing and Keep loving.","font_color":"#f0d21a","hitokoto":true},"scroll":{"progress_bar":true,"percent":false}},"local_search":{"enable":true,"preload":true},"code_copy":{},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"side_tools":{},"pjax":{"enable":true},"lazyload":{"enable":true},"comment":{"enable":false,"use":"gitalk","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":"DsTansice","github_admins":"DsTansice","repository":"Null-Comment","client_id":"b109b534b2268088d780","client_secret":"7808e138a1ffbcd9f02bb39cc1ee7fb41828c52f","proxy":null},"twikoo":{"env_id":"twikoo-0skyucn-1gkzaji32bb03146","region":null,"version":"1.6.8"},"waline":{"server_url":null,"reaction":false,"version":2}},"post":{"author_label":{"enable":true,"auto":true,"custom_label_list":["Trainee","Engineer","Architect"]},"word_count":{"enable":true,"wordcount":true,"min2read":true},"img_align":"left","copyright_info":true},"version":"3.6.1"}
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"}
    KEEP.language_code_block = {"copy":"复制代码","copied":"已复制","fold":"折叠代码块","folded":"已折叠"}
    KEEP.language_copy_copyright = {"copy":"复制版权信息","copied":"已复制","title":"原文标题","author":"原文作者","link":"原文链接"}
  </script>
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="零域" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="/img/favicon.png">
                </a>
            
            <a class="logo-title" href="/">
               零域
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                归档
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                标签
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                分类
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/links"
                            >
                                友链
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               target="_blank" rel="noopener" href="https://hao.0skyu.cn/"
                            >
                                HAO
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">标签</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">分类</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/links">友链</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       target="_blank" rel="noopener" href="https://hao.0skyu.cn/">HAO</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                <span class="title-hover-animation">「SF-PLF」7 Stlc</span>
            </div>

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/img/1.jpg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">Pin Young</span>
                            
                                <span class="author-label">Lv9</span>
                            
                        </div>
                        <div class="meta-info">
                            
<div class="article-meta-info">
    <span class="article-date article-meta-item">
        
            <i class="fa-regular fa-calendar-plus"></i>&nbsp;
        
        <span class="pc">2021-03-28 00:00:00</span>
        <span class="mobile">2021-03-28 00:00</span>
    </span>
    
        <span class="article-update-date article-meta-item">
        <i class="fas fa-file-pen"></i>&nbsp;
        <span class="pc">2023-02-02 13:37:44</span>
    </span>
    
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/SF-%E8%BD%AF%E4%BB%B6%E5%9F%BA%E7%A1%80/">SF (软件基础)</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Coq/">Coq</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/PLF-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/">PLF (编程语言基础)</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>1.1k 字</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>6 分钟</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content keep-markdown-body">
                

                <p>this chapter:</p>
<ul>
<li>(change to new syntax…)</li>
<li>function abstraction</li>
<li>variable binding  – 变量绑定</li>
<li>substitution      – 替换</li>
</ul>
<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>“Base Types”, only <code>Bool</code> for now.   – 基类型<br>…again, exactly following TAPL.</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">t ::= </span><br><span class="line">    | <span class="type">x</span>                         variable</span><br><span class="line">    | <span class="type">\x</span>:T1.t2                  abstraction       -- haskell-ish lambda</span><br><span class="line">    | <span class="type">t1</span> t2                     application</span><br><span class="line">    | <span class="type">tru</span>                       constant true</span><br><span class="line">    | <span class="type">fls</span>                       constant false</span><br><span class="line">    | <span class="type">test</span> t1 <span class="keyword">then</span> t2 <span class="keyword">else</span> t3   conditional</span><br><span class="line"></span><br><span class="line">T ::= </span><br><span class="line">    | <span class="type">Bool</span></span><br><span class="line">    | <span class="type">T</span> → T                     arrow type</span><br><span class="line"></span><br><span class="line">-- example</span><br><span class="line">\x:Bool. \y:Bool. x</span><br><span class="line">(\x:Bool. \y:Bool. x) fls tru</span><br><span class="line">\f:Bool→Bool. f (f tru)</span><br></pre></td></tr></table></figure>

<p>Some known λ-idioms:</p>
<blockquote>
<p>two-arg functions are higher-order one-arg fun, i.e. curried<br>no named functions yet, all “anonymous”  – 匿名函数</p>
</blockquote>
<h2 id="Slide-QA-1"><a href="#Slide-QA-1" class="headerlink" title="Slide QA 1"></a>Slide QA 1</h2><ol>
<li>2</li>
<li><code>Bool</code>, <code>fls</code></li>
</ol>
<h2 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h2><p>Formalize syntax.<br>things are, as usual, in the <code>Type</code> level, so we can “check” them w&#x2F; dependent type.</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Inductive</span> ty : <span class="keyword">Type</span> :=</span><br><span class="line">  | <span class="type">Bool</span> : ty</span><br><span class="line">  | <span class="type">Arrow</span> : ty → ty → ty.</span><br><span class="line"></span><br><span class="line"><span class="keyword">Inductive</span> tm : <span class="keyword">Type</span> :=</span><br><span class="line">  | <span class="type">var</span> : string → tm</span><br><span class="line">  | <span class="type">app</span> : tm → tm → tm</span><br><span class="line">  | <span class="type">abs</span> : string → ty → tm → tm</span><br><span class="line">  | <span class="type">tru</span> : tm</span><br><span class="line">  | <span class="type">fls</span> : tm</span><br><span class="line">  | <span class="type">test</span> : tm → tm → tm → tm.</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Noted that, <code>\x:T.t</code> (formally, <code>abs x T t</code>), the argument type is explicitly annotated (not inferred.)</p>
</blockquote>
<p>另外，这里介绍了一个小 trick: 用 <code>Notation</code> (更接近 宏 ) 而非 <code>Defintion</code> 使得我们可以使用 <code>auto</code>…</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(** idB = \x:Bool. x **)</span></span><br><span class="line"><span class="keyword">Notation</span> idB := (abs x Bool (var x)).</span><br></pre></td></tr></table></figure>






<h2 id="Operational-Semantics"><a href="#Operational-Semantics" class="headerlink" title="Operational Semantics"></a>Operational Semantics</h2><h3 id="Values-值"><a href="#Values-值" class="headerlink" title="Values 值"></a>Values 值</h3><ul>
<li><code>tru</code> and <code>fls</code> are values</li>
<li>what about function?<ol>
<li><code>\x:T. t</code> is value iff <code>t</code> value. – Coq </li>
<li><code>\x:T. t</code> is always value         – most FP lang, either CBV or CBN</li>
</ol>
</li>
</ul>
<p>Coq 这么做挺奇怪的，不过对 Coq 来说: </p>
<blockquote>
<p>terms can be considered equiv up to the computation VM (在其项化简可以做到的范围内都算相等)<br>this rich the notion of Coq’s value (所以 Coq 的值的概念是比一般要大的)</p>
</blockquote>
<p>Three ways to construct <code>value</code> (unary relation &#x3D; predicate)</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Inductive</span> value : tm → <span class="keyword">Prop</span> :=</span><br><span class="line">  | <span class="type">v_abs</span> : ∀x T t, value (abs x T t)</span><br><span class="line">  | <span class="type">v_tru</span> : value tru</span><br><span class="line">  | <span class="type">v_fls</span> : value fls.</span><br></pre></td></tr></table></figure>


<h3 id="STLC-Programs-「程序」的概念也是要定义的"><a href="#STLC-Programs-「程序」的概念也是要定义的" class="headerlink" title="STLC Programs 「程序」的概念也是要定义的"></a>STLC Programs 「程序」的概念也是要定义的</h3><ul>
<li><em>closed</em>    &#x3D; term not refer any undefined var &#x3D; <strong>complete program</strong></li>
<li><em>open term</em> &#x3D; term with <em>free variable</em></li>
</ul>
<blockquote>
<p>Having made the choice not to reduce under abstractions, we don’t need to worry about whether variables are values, since we’ll always be reducing programs “from the outside in,” and that means the step relation will always be working with closed terms.</p>
</blockquote>
<p>if we could reduce under abstraction and variables are values… What’s the implication here? 始终不懂…</p>
<h3 id="Substitution-IMPORTANT-替换"><a href="#Substitution-IMPORTANT-替换" class="headerlink" title="Substitution (IMPORTANT!) 替换"></a>Substitution (IMPORTANT!) 替换</h3><blockquote>
<p><code>[x:=s]t</code> and pronounced “substitute s for x in t.”</p>
</blockquote>
<pre><code>(\x:Bool. test x then tru else x) fls   ==&gt;    test fls then tru else fls
</code></pre>
<p>Important <em>capture</em> example:</p>
<pre><code>[x:=tru] (\x:Bool. x)  ==&gt;  \x:Bool. x     -- x is bound, we need α-conversion here
                       !=&gt;  \x:Bool. tru
</code></pre>
<p>Informal definition…</p>
<pre><code>[x:=s]x               = s
[x:=s]y               = y                     if x ≠ y
[x:=s](\x:T11. t12)   = \x:T11. t12
[x:=s](\y:T11. t12)   = \y:T11. [x:=s]t12     if x ≠ y
[x:=s](t1 t2)         = ([x:=s]t1) ([x:=s]t2)
...
</code></pre>
<p>and formally:</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Reserved</span> <span class="keyword">Notation</span> <span class="string">&quot;&#x27;[&#x27; x &#x27;:=&#x27; s &#x27;]&#x27; t&quot;</span> (<span class="built_in">at</span> level <span class="number">20</span>).</span><br><span class="line"><span class="keyword">Fixpoint</span> <span class="built_in">subst</span> (x : string) (s : tm) (t : tm) : tm :=</span><br><span class="line">  <span class="keyword">match</span> t <span class="built_in">with</span></span><br><span class="line">  | <span class="type">var</span> x&#x27; ⇒ <span class="keyword">if</span> eqb_string x x&#x27; <span class="keyword">then</span> s <span class="keyword">else</span> t    <span class="comment">(* &lt;-- computational eqb_string *)</span></span><br><span class="line">  | <span class="type">abs</span> x&#x27; T t1 ⇒ abs x&#x27; T (<span class="keyword">if</span> eqb_string x x&#x27; <span class="keyword">then</span> t1 <span class="keyword">else</span> ([x:=s] t1))</span><br><span class="line">  | <span class="type">app</span> t1 t2 ⇒ app ([x:=s] t1) ([x:=s] t2)</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Computable <code>Fixpoint</code> means <em>meta-function</em>! (in metalanguage, Coq here)</p>
</blockquote>
<h3 id="如果我们考虑用于替换掉某个变量的项-s-其本身也含有自由变量，-那么定义替换将会变得困难一点。"><a href="#如果我们考虑用于替换掉某个变量的项-s-其本身也含有自由变量，-那么定义替换将会变得困难一点。" class="headerlink" title="如果我们考虑用于替换掉某个变量的项 s 其本身也含有自由变量， 那么定义替换将会变得困难一点。"></a>如果我们考虑用于替换掉某个变量的项 s 其本身也含有自由变量， 那么定义替换将会变得困难一点。</h3><p>Is <code>if x ≠ y</code> for function abstraction one sufficient?  – 在 PLT 中我们采取了更严格的定义</p>
<blockquote>
<p>Only safe if we only consider <code>s</code> is closed term. </p>
</blockquote>
<p>Prof.Mtf:</p>
<blockquote>
<p>here…it’s not really “<em>defining</em> on closed terms”. Technically, you can still write open terms.<br>if we want, we could define the real <code>closed_term</code>…more works to prove things tho.</p>
</blockquote>
<p>Prof.Mtf:</p>
<blockquote>
<p>In some more rigorous setting…we might define <code>well_typed_term</code><br>and the definition itself is the proof of <code>Preservation</code>! </p>
</blockquote>
<h3 id="Slide-QA-2"><a href="#Slide-QA-2" class="headerlink" title="Slide QA 2"></a>Slide QA 2</h3><ol>
<li>(3)</li>
</ol>
<h3 id="Reduction-（beta-reduction）-beta-归约"><a href="#Reduction-（beta-reduction）-beta-归约" class="headerlink" title="Reduction （beta-reduction） beta-归约"></a>Reduction （beta-reduction） beta-归约</h3><p>Should be familar</p>
<pre><code>                value v2
      ----------------------------                   (ST_AppAbs)   until value, i.e. function  (β-reduction)
      (\x:T.t12) v2 --&gt; [x:=v2]t12

                t1 --&gt; t1&#39;
            ----------------                           (ST_App1)   reduce lhs, Function side
            t1 t2 --&gt; t1&#39; t2

                value v1
                t2 --&gt; t2&#39;
            ----------------                           (ST_App2)   reduce rhs, Arg side 
            v1 t2 --&gt; v1 t2&#39;
</code></pre>
<p>Formally,<br>(I was expecting they invents some new syntax for this one…so we only have AST)</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Reserved</span> <span class="keyword">Notation</span> <span class="string">&quot;t1 &#x27;--&gt;&#x27; t2&quot;</span> (<span class="built_in">at</span> level <span class="number">40</span>).</span><br><span class="line"><span class="keyword">Inductive</span> step : tm → tm → <span class="keyword">Prop</span> :=</span><br><span class="line">  | <span class="type">ST_AppAbs</span> : ∀x T t12 v2,</span><br><span class="line">         value v2 →</span><br><span class="line">         (app (abs x T t12) v2) --&gt; [x:=v2]t12</span><br><span class="line">  | <span class="type">ST_App1</span> : ∀t1 t1&#x27; t2,</span><br><span class="line">         t1 --&gt; t1&#x27; →</span><br><span class="line">         app t1 t2 --&gt; app t1&#x27; t2</span><br><span class="line">  | <span class="type">ST_App2</span> : ∀v1 t2 t2&#x27;,</span><br><span class="line">         value v1 →</span><br><span class="line">         t2 --&gt; t2&#x27; →</span><br><span class="line">         app v1 t2 --&gt; app v1 t2&#x27;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>


<h3 id="Slide-QA-3"><a href="#Slide-QA-3" class="headerlink" title="Slide QA 3"></a>Slide QA 3</h3><ol>
<li>(1)  <code>idBB idB -&gt; idB</code></li>
<li>(1)  <code>idBB (idBB idB) -&gt; idB</code></li>
<li>if () ill-typed <code>idBB (notB tru) -&gt; idBB fls ....</code><ul>
<li>we don’t type check in step</li>
</ul>
</li>
<li>(3)  <code>idB fls</code></li>
<li>NOT…ill-typed one &amp; open term</li>
</ol>
<h2 id="Typing"><a href="#Typing" class="headerlink" title="Typing"></a>Typing</h2><h3 id="Typing-Contexts-类型上下文"><a href="#Typing-Contexts-类型上下文" class="headerlink" title="Typing Contexts 类型上下文"></a>Typing Contexts 类型上下文</h3><p>we need something like environment but for Types.</p>
<blockquote>
<p>three-place typing judgment, informally written   – 三元类型断言</p>
</blockquote>
<pre><code>Gamma ⊢ t ∈ T
</code></pre>
<blockquote>
<p>“under the assumptions in Gamma, the term t has the type T.”</p>
</blockquote>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Definition</span> context := partial_map ty.</span><br><span class="line">(X ⊢&gt; T11, Gamma) </span><br></pre></td></tr></table></figure>

<p>Why <code>partial_map</code> here?<br>IMP can use <code>total_map</code> because it gave default value for undefined var.</p>
<h3 id="Typing-Relations"><a href="#Typing-Relations" class="headerlink" title="Typing Relations"></a>Typing Relations</h3><pre><code>                          Gamma x = T
                        ----------------                            (T_Var)   look up
                        Gamma |- x \in T

               (x |-&gt; T11 ; Gamma) |- t12 \in T12
               ----------------------------------                   (T_Abs)   type check against context w/ arg
                Gamma |- \x:T11.t12 \in T11-&gt;T12

                    Gamma |- t1 \in T11-&gt;T12
                      Gamma |- t2 \in T11
                     ----------------------                         (T_App)
                     Gamma |- t1 t2 \in T12
</code></pre>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Example</span> typing_example_1 :</span><br><span class="line">  empty ⊢ abs x Bool (var x) ∈ Arrow Bool Bool.</span><br><span class="line"><span class="keyword">Proof</span>.</span><br><span class="line">  <span class="built_in">apply</span> T_Abs. <span class="built_in">apply</span> T_Var. <span class="built_in">reflexivity</span>. <span class="keyword">Qed</span>.</span><br></pre></td></tr></table></figure>


<p><code>example_2</code></p>
<ul>
<li><code>eapply</code></li>
<li><code>A</code> ?? looks like need need another environment to look up <code>A</code>…</li>
</ul>
<h3 id="Typable-x2F-Deciable"><a href="#Typable-x2F-Deciable" class="headerlink" title="Typable &#x2F; Deciable"></a>Typable &#x2F; Deciable</h3><blockquote>
<p>decidable type system &#x3D; decide term if typable or not.<br>done by type checker…</p>
</blockquote>
<blockquote>
<p>can we prove…?<br><code>∀ Γ e, ∃ τ, (Γ ⊢ e : τ) ∨ ¬(Γ ⊢ e : τ)</code> – a type inference algorithm!</p>
</blockquote>
<blockquote>
<p>Provability in Coq witness decidabile operations.</p>
</blockquote>
<h3 id="show-term-is-“not-typeable”"><a href="#show-term-is-“not-typeable”" class="headerlink" title="show term is “not typeable”"></a>show term is “not typeable”</h3><p>Keep inversion till the contradiction.</p>

            </div>

            
                <div class="post-copyright-info">
                    
<div class="article-copyright-info-container">
    <ul class="copyright-info-content">
        <li class="post-title">
            <span class="type">本文标题</span>：<span class="content">「SF-PLF」7 Stlc</span>
        </li>
        <li class="post-author">
            <span class="type">本文作者</span>：<span class="content">Pin Young</span>
        </li>
        <li class="post-time">
            <span class="type">创建时间</span>：<span class="content">2021-03-28 00:00:00</span>
        </li>
        <li class="post-link">
            <span class="type">本文链接</span>：<span class="content">posts/5883.html</span>
        </li>
        <li class="post-license">
            <span class="type">版权声明</span>：<span class="content">本博客所有文章除特别声明外，均采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> 许可协议。转载请注明出处！</span>
        </li>
    </ul>
    <div class="copy-copyright-info flex-center tooltip" data-content="复制版权信息" data-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/SF-%E8%BD%AF%E4%BB%B6%E5%9F%BA%E7%A1%80/">#SF (软件基础)</a>&nbsp;
                        </li>
                    
                        <li class="tag-item">
                            <a href="/tags/Coq/">#Coq</a>&nbsp;
                        </li>
                    
                        <li class="tag-item">
                            <a href="/tags/%E7%AC%94%E8%AE%B0/">#笔记</a>&nbsp;
                        </li>
                    
                        <li class="tag-item">
                            <a href="/tags/PLF-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/">#PLF (编程语言基础)</a>&nbsp;
                        </li>
                    
                </ul>
            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                               rel="prev"
                               href="/posts/8e3d.html"
                            >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                                <span class="title flex-center">
                                <span class="post-nav-title-item">「SF-PLF」6 Types</span>
                                <span class="post-nav-item">上一篇</span>
                            </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                               rel="next"
                               href="/posts/2222.html"
                            >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">「SF-PLF」10 Sub</span>
                                <span class="post-nav-item">下一篇</span>
                            </span>
                                <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                            </a>
                        </div>
                    
                </div>
            

            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Overview"><span class="nav-number">1.</span> <span class="nav-text">Overview</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Slide-QA-1"><span class="nav-number">2.</span> <span class="nav-text">Slide QA 1</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Syntax"><span class="nav-number">3.</span> <span class="nav-text">Syntax</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Operational-Semantics"><span class="nav-number">4.</span> <span class="nav-text">Operational Semantics</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Values-%E5%80%BC"><span class="nav-number">4.1.</span> <span class="nav-text">Values 值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#STLC-Programs-%E3%80%8C%E7%A8%8B%E5%BA%8F%E3%80%8D%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B9%9F%E6%98%AF%E8%A6%81%E5%AE%9A%E4%B9%89%E7%9A%84"><span class="nav-number">4.2.</span> <span class="nav-text">STLC Programs 「程序」的概念也是要定义的</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Substitution-IMPORTANT-%E6%9B%BF%E6%8D%A2"><span class="nav-number">4.3.</span> <span class="nav-text">Substitution (IMPORTANT!) 替换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E6%9E%9C%E6%88%91%E4%BB%AC%E8%80%83%E8%99%91%E7%94%A8%E4%BA%8E%E6%9B%BF%E6%8D%A2%E6%8E%89%E6%9F%90%E4%B8%AA%E5%8F%98%E9%87%8F%E7%9A%84%E9%A1%B9-s-%E5%85%B6%E6%9C%AC%E8%BA%AB%E4%B9%9F%E5%90%AB%E6%9C%89%E8%87%AA%E7%94%B1%E5%8F%98%E9%87%8F%EF%BC%8C-%E9%82%A3%E4%B9%88%E5%AE%9A%E4%B9%89%E6%9B%BF%E6%8D%A2%E5%B0%86%E4%BC%9A%E5%8F%98%E5%BE%97%E5%9B%B0%E9%9A%BE%E4%B8%80%E7%82%B9%E3%80%82"><span class="nav-number">4.4.</span> <span class="nav-text">如果我们考虑用于替换掉某个变量的项 s 其本身也含有自由变量， 那么定义替换将会变得困难一点。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Slide-QA-2"><span class="nav-number">4.5.</span> <span class="nav-text">Slide QA 2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reduction-%EF%BC%88beta-reduction%EF%BC%89-beta-%E5%BD%92%E7%BA%A6"><span class="nav-number">4.6.</span> <span class="nav-text">Reduction （beta-reduction） beta-归约</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Slide-QA-3"><span class="nav-number">4.7.</span> <span class="nav-text">Slide QA 3</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Typing"><span class="nav-number">5.</span> <span class="nav-text">Typing</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Typing-Contexts-%E7%B1%BB%E5%9E%8B%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="nav-number">5.1.</span> <span class="nav-text">Typing Contexts 类型上下文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Typing-Relations"><span class="nav-number">5.2.</span> <span class="nav-text">Typing Relations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Typable-x2F-Deciable"><span class="nav-number">5.3.</span> <span class="nav-text">Typable &#x2F; Deciable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#show-term-is-%E2%80%9Cnot-typeable%E2%80%9D"><span class="nav-number">5.4.</span> <span class="nav-text">show term is “not typeable”</span></a></li></ol></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            
<footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
                <span>2014</span> -
            
            2023
            
                &nbsp;<i class="fas fa-heart icon-animate"></i>
                &nbsp;<a href="/">Pin Young</a>
            
        </div>
        
            <script async data-pjax
                    src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    访问人数&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                
                
                    总访问量&nbsp;<span id="busuanzi_value_site_pv"></span>
                
            </div>
        
        <div class="theme-info info-item">
            由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动&nbsp;|&nbsp;主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/dstansice">零域Lite 1.3.1</a>
        </div>
        
        
        <script async defer data-website-id="b3b1feba-ef0f-4367-ba34-6a0152b8749b" src="https://analysis.0skyu.cn/umami.js"></script>
         
            <div class="icp-info info-item">
            <div class="theme-info info-item">
                <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=12011002021027" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;"><img src="https://0skyu.cn/beian.png" style="float:left;"/><p style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;">津公网安备 12011002021027号</p></a> 
                </div>
                 <div class="theme-info info-item">
               <center> <a target="_blank" rel="nofollow"
                   href="https://beian.miit.gov.cn"
                >
                    津ICP备2021004482号-1
                </a></center>
                </div>
                
            </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        
            <li class="tools-item rss flex-center">
                <a class="flex-center"
                   href="/atom.xml"
                   target="_blank"
                >
                    <i class="fas fa-rss"></i>
                </a>
            </li>
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>





    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-block.js"></script>




    
<script src="/js/lazyload.js"></script>



<div class="post-scripts pjax">
    
        
<script src="/js/post-helper.js"></script>

        
            
<script src="/js/libs/anime.min.js"></script>

        
        
            
<script src="/js/toc.js"></script>

        
    
</div>


    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>

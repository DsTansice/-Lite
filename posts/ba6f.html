<!DOCTYPE html>
<html lang="zh-CN">
<head><!-- hexo injector head_begin start -->
<link rel="stylesheet" href="/css/bilicard.css?v=372a94e93f">
<!-- hexo injector head_begin end -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="空中有零，零域，分享快乐，音乐，心得，生活，电影，代码，编程，考试，学业，零式的天空，凌空博客，原零空博客，原Tans博客，现零的小屋官方博客，计算机，音乐，电脑，编程，生活，分享">
    <meta name="description" content="一个技术控，爱技术，爱分享，爱音乐">
    <meta name="author" content="Pin Young">
    
    <title>
        
            「SF-LC」6 Logic |
        
        零域
    </title><meta name="robots" content="noindex">
    
<link rel="stylesheet" href="/css/style.css?v=512d6d2336">

    <link rel="shortcut icon" href="/img/favicon.png?v=96e789c5be">
    
<link rel="stylesheet" href="/font/css/fontawesome.min.css?v=d318f67430">

    
<link rel="stylesheet" href="/font/css/regular.min.css?v=dd643a612d">

    
<link rel="stylesheet" href="/font/css/solid.min.css?v=4abb638a78">

    
<link rel="stylesheet" href="/font/css/brands.min.css?v=bffe02773a">

    
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"0skyu.cn","root":"/","language":"zh-CN","path":"search.xml"}
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"#EE5A24","logo":"/img/favicon.png?v=96e789c5be","favicon":"/img/favicon.png?v=96e789c5be","avatar":"img/1.jpg","font_size":null,"font_family":null,"hover":{"shadow":true,"scale":false},"first_screen":{"enable":true,"header_transparent":false,"background_img":"/img/bg/333.jpg?v=7b42f26db7","description":"Keep writing and Keep loving.","font_color":"#f0d21a","hitokoto":true},"scroll":{"progress_bar":true,"percent":false}},"local_search":{"enable":true,"preload":true},"code_copy":{},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"side_tools":{},"pjax":{"enable":true},"lazyload":{"enable":true},"comment":{"enable":false,"use":"gitalk","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":"DsTansice","github_admins":"DsTansice","repository":"Null-Comment","client_id":"b109b534b2268088d780","client_secret":"7808e138a1ffbcd9f02bb39cc1ee7fb41828c52f","proxy":null},"twikoo":{"env_id":"twikoo-0skyucn-1gkzaji32bb03146","region":null,"version":"1.6.8"},"waline":{"server_url":null,"reaction":false,"version":2}},"post":{"author_label":{"enable":true,"auto":true,"custom_label_list":["Trainee","Engineer","Architect"]},"word_count":{"enable":true,"wordcount":true,"min2read":true},"img_align":"left","copyright_info":true},"version":"3.6.1"}
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"}
    KEEP.language_code_block = {"copy":"复制代码","copied":"已复制","fold":"折叠代码块","folded":"已折叠"}
    KEEP.language_copy_copyright = {"copy":"复制版权信息","copied":"已复制","title":"原文标题","author":"原文作者","link":"原文链接"}
  </script>
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml?v=f2133d50b5" title="零域" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="/img/favicon.png?v=96e789c5be">
                </a>
            
            <a class="logo-title" href="/">
               零域
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class href="/">
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class href="/archives">
                                归档
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class href="/tags">
                                标签
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class href="/categories">
                                分类
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class href="/links">
                                友链
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class target="_blank" rel="noopener" href="https://hao.0skyu.cn/">
                                HAO
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class href="/archives">归档</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class href="/tags">标签</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class href="/categories">分类</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class href="/links">友链</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class target="_blank" rel="noopener" href="https://hao.0skyu.cn/">HAO</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                <span class="title-hover-animation">「SF-LC」6 Logic</span>
            </div>

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/img/1.jpg?v=e52bd9a478">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">Pin Young</span>
                            
                                <span class="author-label">Lv9</span>
                            
                        </div>
                        <div class="meta-info">
                            
<div class="article-meta-info">
    <span class="article-date article-meta-item">
        
            <i class="fa-regular fa-calendar-plus"></i>&nbsp;
        
        <span class="pc">2021-03-28 00:00:00</span>
        <span class="mobile">2021-03-28 00:00</span>
    </span>
    
        <span class="article-update-date article-meta-item">
        <i class="fas fa-file-pen"></i>&nbsp;
        <span class="pc">2023-02-02 13:37:39</span>
    </span>
    
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/LF-%E9%80%BB%E8%BE%91%E5%9F%BA%E7%A1%80/">LF (逻辑基础)</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/SF-%E8%BD%AF%E4%BB%B6%E5%9F%BA%E7%A1%80/">SF (软件基础)</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Coq/">Coq</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>2.4k 字</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>14 分钟</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content keep-markdown-body">
                

                <p>We have seen…</p>
<ul>
<li><em>propositions</em>: factual claims<ul>
<li>equality propositions (<code>e1 = e2</code>)</li>
<li>implications (<code>P → Q</code>)</li>
<li>quantified propositions (<code>∀ x, P</code>)</li>
</ul>
</li>
<li><em>proofs</em>: ways of presenting <strong>evidence</strong> for the truth of a proposition</li>
</ul>
<h2 id="Prop-type"><a href="#Prop-type" class="headerlink" title="Prop type"></a><code>Prop</code> type</h2><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Check</span> <span class="number">3</span> = <span class="number">3.</span>  <span class="comment">(* ===&gt; Prop. A provable prop *)</span></span><br><span class="line"><span class="keyword">Check</span> <span class="number">3</span> = <span class="number">4.</span>  <span class="comment">(* ===&gt; Prop. A unprovable prop *)</span></span><br></pre></td></tr></table></figure>

<p><code>Prop</code> is <em>first-class entity</em> we can </p>
<ul>
<li>name it</li>
<li><em>parametrized</em>!</li>
</ul>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Definition</span> is_three (n : nat) : <span class="keyword">Prop</span> :=</span><br><span class="line">  n = <span class="number">3.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Check</span> is_three. <span class="comment">(* ===&gt; nat -&gt; Prop *)</span></span><br></pre></td></tr></table></figure>

<h3 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h3><blockquote>
<p>In Coq, <em>functions that return propositions</em> are said to define <em>properties</em> of their arguments.</p>
</blockquote>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Definition</span> injective {A B} (f : A → B) :=</span><br><span class="line">  ∀x y : A, f x = f y → x = y.</span><br><span class="line"><span class="keyword">Lemma</span> succ_inj : injective S. <span class="comment">(* can be read off as "injectivity is a property of S" *)</span></span><br><span class="line"><span class="keyword">Proof</span>. </span><br><span class="line">  <span class="built_in">intros</span> n m H. <span class="built_in">injection</span> H <span class="built_in">as</span> H1. <span class="built_in">apply</span> H1. <span class="keyword">Qed</span>.</span><br></pre></td></tr></table></figure>

<p>The equality operator <code>=</code> is also a function that returns a <code>Prop</code>. (property: <em>equality</em>)</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Check</span> @eq. <span class="comment">(* ===&gt; forall A : Type, A -&gt; A -&gt; Prop *)</span></span><br></pre></td></tr></table></figure>

<p>Theroems are types, and proofs are existentials.</p>
<h2 id="Slide-Q-amp-A-1"><a href="#Slide-Q-amp-A-1" class="headerlink" title="Slide Q&amp;A - 1."></a>Slide Q&amp;A - 1.</h2><ol>
<li><code>Prop</code></li>
<li><code>Prop</code></li>
<li><code>Prop</code></li>
<li>Not typeable</li>
<li><code>nat -&gt; nat</code></li>
<li><code>nat -&gt; Prop</code></li>
<li>(3)</li>
</ol>
<p>think that Big Lambda (the type abstraction) works at type level, accepts type var, substitute and reture a type.<br><code>forall</code> in Coq is same (the concrete syntax) and only typecheck with <code>Type</code> or its subtype <code>Set</code> &amp; <code>Prop</code>.</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Check</span> (∀n:nat, S (pred n)).  <span class="comment">(* not typeable *)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Definition</span> foo : (<span class="keyword">forall</span> n:nat, bool) <span class="comment">(* foo: nat -&gt; bool *)</span></span><br><span class="line">  := <span class="keyword">fun</span> x =&gt; true.</span><br></pre></td></tr></table></figure>


<h2 id="Logical-Connectives"><a href="#Logical-Connectives" class="headerlink" title="Logical Connectives"></a>Logical Connectives</h2><blockquote>
<p>noticed that connectives symbols are “unicodize” in book and spacemacs.</p>
</blockquote>
<h3 id="Conjuction-logical-and"><a href="#Conjuction-logical-and" class="headerlink" title="Conjuction (logical and)"></a>Conjuction (logical and)</h3><p><code>and</code> is just binary <code>Prop -&gt; Prop -&gt; Prop</code> and associative. </p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Print</span> <span class="string">"/\".</span></span><br><span class="line"><span class="string">Inductive and (A B : Prop) : Prop :=  conj : A -&gt; B -&gt; A /\ B</span></span><br><span class="line"><span class="string">Check and. (* ===&gt; and : Prop -&gt; Prop -&gt; Prop *)</span></span><br></pre></td></tr></table></figure>

<h4 id="and-introduction"><a href="#and-introduction" class="headerlink" title="and introduction"></a>and introduction</h4><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Lemma</span> and_intro : <span class="keyword">forall</span> A B : <span class="keyword">Prop</span>, A -&gt; B -&gt; A /\ B.</span><br><span class="line"><span class="keyword">Proof</span>.</span><br><span class="line">  <span class="built_in">intros</span> A B HA HB. <span class="built_in">split</span>.</span><br><span class="line">  - <span class="built_in">apply</span> HA.</span><br><span class="line">  - <span class="built_in">apply</span> HB.</span><br><span class="line"><span class="keyword">Qed</span>.</span><br></pre></td></tr></table></figure>
<blockquote>
<p>To prove a conjunction, </p>
<ul>
<li>use the <code>split</code> tactic. It will generate two subgoals,</li>
<li>or use <code>apply and_intro.</code>, which match the conclusion and give its two premises as your subgoals.</li>
</ul>
</blockquote>
<h4 id="and-elimination"><a href="#and-elimination" class="headerlink" title="and elimination"></a>and elimination</h4><p>if we already have a proof of <code>and</code>, <code>destruct</code> can give us both.</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Lemma</span> and_example2' :</span><br><span class="line">  ∀n m : nat, n = <span class="number">0</span> ∧ m = <span class="number">0</span> → n + m = <span class="number">0.</span></span><br><span class="line"><span class="keyword">Proof</span>.</span><br><span class="line">  <span class="built_in">intros</span> n m [Hn Hm]. <span class="comment">(* = intro H. destruct H. *)</span></span><br><span class="line">  <span class="built_in">rewrite</span> Hn. <span class="built_in">rewrite</span> Hm. <span class="built_in">reflexivity</span>. <span class="keyword">Qed</span>.  <span class="comment">(* you could use only one *)</span></span><br></pre></td></tr></table></figure>

<p>Instead of packing into conjunction <code>∀n m : nat, n = 0 ∧ m = 0 → n + m = 0.</code><br>why not two separate premises?      <code>∀n m : nat, n = 0 -&gt; m = 0 → n + m = 0.</code><br>Both are fine in this case but conjunction are useful as intermediate step etc.</p>
<blockquote>
<p>Coq Intensive Q: why <code>destruct</code> can work on <code>and</code>? is <code>and</code> inductively defined?<br>A: Yes.</p>
</blockquote>
<h3 id="Disjunction-locial-or"><a href="#Disjunction-locial-or" class="headerlink" title="Disjunction (locial or)"></a>Disjunction (locial or)</h3><h4 id="or-elimination"><a href="#or-elimination" class="headerlink" title="or elimination"></a>or elimination</h4><p>We need do case analysis (either <code>P</code> or <code>Q</code> should be able to prove the theroem separately!)</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Lemma</span> or_example :</span><br><span class="line">  <span class="keyword">forall</span> n m : nat, n = <span class="number">0</span> \/ m = <span class="number">0</span> -&gt; n * m = <span class="number">0.</span></span><br><span class="line"><span class="keyword">Proof</span>.</span><br><span class="line">  <span class="comment">(* This pattern implicitly does case analysis on [n = 0 \/ m = 0] *)</span></span><br><span class="line">  <span class="built_in">intros</span> n m [Hn | <span class="type">Hm</span>]. <span class="comment">(* = intro H. destruct H. *)</span></span><br><span class="line">  - <span class="comment">(* Here, [n = 0] *)</span> <span class="built_in">rewrite</span> Hn. <span class="built_in">reflexivity</span>.</span><br><span class="line">  - <span class="comment">(* Here, [m = 0] *)</span> <span class="built_in">rewrite</span> Hm. <span class="built_in">rewrite</span> &lt;- mult_n_O. <span class="built_in">reflexivity</span>.</span><br><span class="line"><span class="keyword">Qed</span>.</span><br></pre></td></tr></table></figure>

<h4 id="or-introduction"><a href="#or-introduction" class="headerlink" title="or introduction"></a>or introduction</h4><p>When trying to establish (intro into conclusion) an <code>or</code>, using <code>left</code> or <code>right</code> to pick one side to prove is sufficient.</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Lemma</span> or_intro : <span class="keyword">forall</span> A B : <span class="keyword">Prop</span>, A -&gt; A \/ B.</span><br><span class="line"><span class="keyword">Proof</span>.</span><br><span class="line">  <span class="built_in">intros</span> A B HA.</span><br><span class="line">  <span class="built_in">left</span>.  <span class="comment">(* tactics *)</span></span><br><span class="line">  <span class="built_in">apply</span> HA.</span><br><span class="line"><span class="keyword">Qed</span>.</span><br></pre></td></tr></table></figure>



<h3 id="Falsehood-and-negation"><a href="#Falsehood-and-negation" class="headerlink" title="Falsehood and negation"></a>Falsehood and negation</h3><h4 id="False"><a href="#False" class="headerlink" title="False?"></a>False?</h4><p>Recall the <em>princple of explosion</em>: it asserts that, if we assume a <em>contradiction</em>, then any other proposition can be derived.<br>we could define <code>¬ P</code> (“not P”) as <code>∀ Q, P → Q.</code>. </p>
<blockquote>
<p>Coq actually makes a slightly different (but equivalent) choice, defining <code>¬ P as P → False</code>, where <code>False</code> is a specific <em>contradictory proposition</em> defined in the standard library. </p>
</blockquote>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Definition</span> not (P:<span class="keyword">Prop</span>) := P → False.</span><br><span class="line"><span class="keyword">Notation</span> <span class="string">"¬x"</span> := (not x) : type_scope.</span><br></pre></td></tr></table></figure>

<p>Prove the <em>princple of explosion</em>:</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Theorem</span> ex_falso_quodlibet : <span class="keyword">forall</span> (P:<span class="keyword">Prop</span>),</span><br><span class="line">  False -&gt; P.</span><br><span class="line"><span class="keyword">Proof</span>.</span><br><span class="line">  <span class="built_in">intros</span> P contra.</span><br><span class="line">  <span class="built_in">destruct</span> contra.  <span class="keyword">Qed</span>.  <span class="comment">(* 0 cases to prove since ⊥ is not provable. [inversion] also works *)</span></span><br></pre></td></tr></table></figure>


<h4 id="Inequality"><a href="#Inequality" class="headerlink" title="Inequality"></a>Inequality</h4><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Notation</span> <span class="string">"x &lt;&gt; y"</span> := (~(x = y)).</span><br></pre></td></tr></table></figure>

<p>Same as SML and OCaml (for structural equality, OCaml uses <code>!=</code> for physical equality.)</p>
<h4 id="Proving-of-negation-or-how-to-prove-¬P"><a href="#Proving-of-negation-or-how-to-prove-¬P" class="headerlink" title="Proving of negation (or how to prove ¬P)"></a>Proving of negation (or how to prove <code>¬P</code>)</h4><p>thinking about as <code>unfold not</code>, i.e. <code>P -&gt; False</code>.<br>so you have an assumptions <code>P</code> that could be <code>intros HP.</code> and the residual goal would be simply <code>False</code>.<br>which is usually proved by some kind of contradiction in hypotheses with tactics <code>discriminate.</code> or <code>contradiction.</code></p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Theorem</span> contradiction_implies_anything : <span class="keyword">forall</span> P Q : <span class="keyword">Prop</span>,</span><br><span class="line">  (P /\ ~P) -&gt; Q.</span><br><span class="line"><span class="keyword">Proof</span>.</span><br><span class="line">  <span class="built_in">intros</span> P Q [HP HNA].                 <span class="comment">(* we could [contradiction.] to end the proof here`*)</span></span><br><span class="line">  <span class="built_in">unfold</span> not <span class="built_in">in</span> HNA. <span class="built_in">apply</span> HNA <span class="built_in">in</span> HP.  <span class="comment">(* HP : False, HNA : P -&gt; False  ⊢  HP: False  *)</span></span><br><span class="line">  <span class="built_in">destruct</span> HP.  <span class="keyword">Qed</span>.                   <span class="comment">(* destruct False.  *)</span></span><br></pre></td></tr></table></figure>

<h4 id="Tactic-exfalso"><a href="#Tactic-exfalso" class="headerlink" title="Tactic exfalso."></a>Tactic <code>exfalso.</code></h4><blockquote>
<p>If you are trying to prove a goal that is nonsensical (e.g., the goal state is <code>false = true</code>), apply <code>ex_falso_quodlibet</code> to change the goal to <code>False</code>. This makes it easier to use assumptions of the form <code>¬P</code> that may be available in the context — in particular, assumptions of the form <code>x≠y</code>.</p>
</blockquote>
<blockquote>
<p>Since reasoning with <code>ex_falso_quodlibet</code> is quite common, Coq provides a built-in tactic, <code>exfalso</code>, for applying it.</p>
</blockquote>
<h2 id="Slide-Q-amp-A-2"><a href="#Slide-Q-amp-A-2" class="headerlink" title="Slide Q&amp;A - 2"></a>Slide Q&amp;A - 2</h2><blockquote>
<p>?<code>unfold</code> is implicit</p>
</blockquote>
<ol>
<li>only <code>destruct</code> (if we consider <code>intros</code> destruct is also <code>destruct</code>.), ?<code>unfold</code></li>
<li>none (?<code>unfold</code>)</li>
<li><code>left.</code></li>
<li><code>destruct</code>, <code>unfold</code>, <code>left</code> and <code>right</code></li>
<li><code>discrinminate</code> (or <code>inversion</code>)</li>
</ol>
<h3 id="Truth"><a href="#Truth" class="headerlink" title="Truth"></a>Truth</h3><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Lemma</span> True_is_true : True.</span><br><span class="line"><span class="keyword">Proof</span>. <span class="built_in">apply</span> I. <span class="keyword">Qed</span>.</span><br></pre></td></tr></table></figure>

<p><code>I : True</code> is a predefined Prop…</p>
<h3 id="Logical-Equivalence"><a href="#Logical-Equivalence" class="headerlink" title="Logical Equivalence"></a>Logical Equivalence</h3><p><em>if and only if</em> is just the conjunction of two implications. (so we need <code>split</code> to get 2 subgoals)</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Definition</span> iff (P Q : <span class="keyword">Prop</span>) := (P → Q) ∧ (Q → P).</span><br><span class="line"><span class="keyword">Notation</span> <span class="string">"P ↔ Q"</span> := (iff P Q)</span><br><span class="line">                    (<span class="built_in">at</span> level <span class="number">95</span>, no associativity) : type_scope.</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>rewrite</code> and <code>reflexivity</code> can be used with iff statements, not just equalities.</p>
</blockquote>
<h3 id="Existential-Quantification"><a href="#Existential-Quantification" class="headerlink" title="Existential Quantification"></a>Existential Quantification</h3><p>To prove a statement of the form <code>∃x, P</code>, we must show that <code>P</code> holds for some specific choice of value for <code>x</code>,<br>known as the <strong>witness</strong> of the existential.</p>
<p>So we explicitly tell Coq which witness <code>t</code> we have in mind by invoking <code>exists t</code>.<br>then all occurences of that “type variable” would be replaced.</p>
<h4 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h4><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Lemma</span> four_is_even : <span class="built_in">exists</span> n : nat, <span class="number">4</span> = n + n.</span><br><span class="line"><span class="keyword">Proof</span>.</span><br><span class="line">  <span class="built_in">exists</span> <span class="number">2.</span> <span class="built_in">reflexivity</span>.</span><br><span class="line"><span class="keyword">Qed</span>.</span><br></pre></td></tr></table></figure>

<h4 id="Elim"><a href="#Elim" class="headerlink" title="Elim"></a>Elim</h4><p>Below is an interesting question…by intros and destruct we can have equation <code>n = 4 + m</code> in hypotheses.</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Theorem</span> exists_example_2 : <span class="keyword">forall</span> n,</span><br><span class="line">  (<span class="built_in">exists</span> m, n = <span class="number">4</span> + m) -&gt;</span><br><span class="line">  (<span class="built_in">exists</span> o, n = <span class="number">2</span> + o).</span><br><span class="line"><span class="keyword">Proof</span>.</span><br><span class="line">  <span class="built_in">intros</span> n [m Hm]. <span class="comment">(* note implicit [destruct] here *)</span></span><br><span class="line">  <span class="built_in">exists</span> (<span class="number">2</span> + m).</span><br><span class="line">  <span class="built_in">apply</span> Hm.  <span class="keyword">Qed</span>.</span><br></pre></td></tr></table></figure>



<h2 id="Programming-with-Propositions"><a href="#Programming-with-Propositions" class="headerlink" title="Programming with Propositions"></a>Programming with Propositions</h2><p>Considering writing a common recursive <code>is_in</code> for polymorphic lists.<br>(Though we dont have a polymorphic <code>=?</code> (<code>eqb</code>) defined yet) </p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Fixpoint</span> is_in {A : <span class="keyword">Type</span>} (x : A) (l : list A) : bool :=</span><br><span class="line">  <span class="keyword">match</span> l <span class="built_in">with</span></span><br><span class="line">  | <span class="type">[] =&gt; false</span></span><br><span class="line">  | <span class="type">x</span>' :: l' =&gt; <span class="keyword">if</span> (x' =? x) <span class="keyword">then</span> true <span class="keyword">else</span> is_in x l'</span><br><span class="line">  <span class="keyword">end</span>.</span><br></pre></td></tr></table></figure>

<p>Similarly, we can write this function but with disjunction and return a <code>Prop</code>!<br><em>so we can write function to generate/create statements/propositions!</em> (thx for the idea Prop is first-class)</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Fixpoint</span> In {A : <span class="keyword">Type</span>} (x : A) (l : list A) : <span class="keyword">Prop</span> :=</span><br><span class="line">  <span class="keyword">match</span> l <span class="built_in">with</span></span><br><span class="line">  | <span class="type">[] =&gt; False</span></span><br><span class="line">  | <span class="type">x</span>' :: l' =&gt; x' = x ∨ In x l'</span><br><span class="line">  <span class="keyword">end</span>.</span><br></pre></td></tr></table></figure>

<p>The whole thing I understood as a <em>type operator</em> (function in type level) and it’s <em>recursive</em>!</p>
<p>Coq dare to do that becuz its <em>total</em>, which is guarded by its <em>termination checker</em>.<br>un-total PL, if having this, would make its type system <em>Turing Complete</em> (thus having <em>Halting Problem</em>).<br>(Recursive Type like ADT/GADT in ML/Haskell is a limited form of recursion allowing no arbitray recursion.)</p>
<h3 id="In-map"><a href="#In-map" class="headerlink" title="In_map"></a>In_map</h3><p>I took this one since it’s like a formal version of <em>Property-based Tests</em>!.</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Lemma</span> In_map :</span><br><span class="line">  <span class="keyword">forall</span> (A B : <span class="keyword">Type</span>) (f : A -&gt; B) (l : list A) (x : A),</span><br><span class="line">    In x l -&gt;</span><br><span class="line">    In (f x) (map f l).</span><br><span class="line"><span class="keyword">Proof</span>.</span><br><span class="line">  <span class="built_in">intros</span> A B f l x.</span><br><span class="line">  <span class="built_in">induction</span> l <span class="built_in">as</span> [|<span class="type">x</span>' l' IHl'].</span><br><span class="line">  - <span class="comment">(* l = nil, contradiction *)</span></span><br><span class="line">    <span class="built_in">simpl</span>. <span class="built_in">intros</span> [].</span><br><span class="line">  - <span class="comment">(* l = x' :: l' *)</span></span><br><span class="line">    <span class="built_in">simpl</span>. <span class="built_in">intros</span> [H | <span class="type">H</span>].           <span class="comment">(* evaluating [In] gives us 2 cases:  *)</span></span><br><span class="line">    + <span class="built_in">rewrite</span> H. <span class="built_in">left</span>. <span class="built_in">reflexivity</span>.  <span class="comment">(* in head of l *)</span></span><br><span class="line">    + <span class="built_in">right</span>. <span class="built_in">apply</span> IHl'. <span class="built_in">apply</span> H.    <span class="comment">(* in tail of l*)</span></span><br><span class="line"><span class="keyword">Qed</span>.</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Q &amp; A: </p>
<ol>
<li><code>eq</code> is just another inductively defined and doesn’t have any computational content. (satisfication)</li>
<li>Why use <code>Prop</code> instead of <code>bool</code>? See <em>reflection</em> below.</li>
</ol>
</blockquote>
<h3 id="Drawbacks"><a href="#Drawbacks" class="headerlink" title="Drawbacks"></a>Drawbacks</h3><blockquote>
<p>In particular, it is subject to Coq’s usual restrictions regarding the definition of recursive functions,<br>e.g., the requirement that they be “obviously terminating.”</p>
</blockquote>
<blockquote>
<p>In the next chapter, we will see how to define propositions <em>inductively</em>,<br>a different technique with its own set of strengths and limitations.</p>
</blockquote>
<h2 id="Applying-Theorems-to-Arguments"><a href="#Applying-Theorems-to-Arguments" class="headerlink" title="Applying Theorems to Arguments."></a>Applying Theorems to Arguments.</h2><h3 id="Check-some-theorem-print-the-statement"><a href="#Check-some-theorem-print-the-statement" class="headerlink" title="Check some_theorem print the statement!"></a><code>Check some_theorem</code> print the statement!</h3><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Check</span> plus_comm.</span><br><span class="line"><span class="comment">(* ===&gt; forall n m : nat, n + m = m + n *)</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Coq prints the <em>statement</em> of the <code>plus_comm</code> theorem in the same way that it prints the <em>type</em> of any term that we ask it to Check. Why?</p>
</blockquote>
<p>Hmm…I just noticed that!!<br>But I should notice because <strong>Propositions are Types! (and terms are proof)</strong></p>
<h3 id="Proof-Object"><a href="#Proof-Object" class="headerlink" title="Proof Object"></a>Proof Object</h3><blockquote>
<p><em>proofs</em> as first-class objects.</p>
</blockquote>
<p>After <code>Qed.</code>, Coq defined they as <em>Proof Object</em> and the <em>type of this obj</em> is the statement of the theorem.</p>
<blockquote>
<p>Provable: some type is inhabited by some thing (having terms).</p>
</blockquote>
<p>So I guess when we apply theorems, Coq implicitly use the type of the Proof Object. (it’s already type abstraction)<br>…we will get to there later at ProofObject chapter.</p>
<h3 id="Apply-theorem-as-function"><a href="#Apply-theorem-as-function" class="headerlink" title="Apply theorem as function"></a>Apply theorem as function</h3><blockquote>
<p><code>rewrite</code> select variables greedily by default</p>
</blockquote>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Lemma</span> plus_comm3_take3 :</span><br><span class="line">  ∀x y z, x + (y + z) = (z + y) + x.</span><br><span class="line"><span class="keyword">Proof</span>.</span><br><span class="line">  <span class="built_in">intros</span> x y z.</span><br><span class="line">  <span class="built_in">rewrite</span> plus_comm.</span><br><span class="line">  <span class="built_in">rewrite</span> (plus_comm y z).     <span class="comment">(* we can explicitly provide type var! *)</span></span><br><span class="line">  <span class="built_in">reflexivity</span>.</span><br><span class="line"><span class="keyword">Qed</span>.</span><br></pre></td></tr></table></figure>

<p><code>x y z</code> were some type var and <em>instantiated to values</em> by <code>intros</code>, e.g. <code>x, y, z:nat</code><br>but we can explicilty pass in to <code>plus_comm</code>, which is a forall type abstraction! (<code>Δ n m. (eq (n + m) (m + n))</code>) </p>
<blockquote>
<p>there must be something there in Proof Object so we can apply <em>values</em> to a <em>type-level function</em></p>
</blockquote>
<h2 id="Coq-vs-Set-Theory"><a href="#Coq-vs-Set-Theory" class="headerlink" title="Coq vs. Set Theory"></a>Coq vs. Set Theory</h2><p>Coq’s logical core, <em>the Calculus of Inductive Constructions</em>, is a <em>metalanguage for math</em>, but differs from other foundations of math e.g. ZFC Set Theory</p>
<h3 id="Functional-Extensionality"><a href="#Functional-Extensionality" class="headerlink" title="Functional Extensionality"></a>Functional Extensionality</h3><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(∀x, f x = g x) → f = g</span><br><span class="line"></span><br><span class="line">∃f g, (∀x, f x = g x) → f = g</span><br><span class="line"></span><br><span class="line">∃f g, (∀x, f x = g x) ∧ f != g    <span class="comment">(* negation, consistent but not interesting... *)</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>In common math practice, two functions <code>f</code> and <code>g</code> are considered equal if they produce the same outputs.<br>This is known as the principle of <em>functional extensionality</em>.</p>
</blockquote>
<blockquote>
<p>Informally speaking, an “extensional property” is one that pertains to an object’s observable behavior.<br><a class="link" target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Extensionality">https://en.wikipedia.org/wiki/Extensionality<i class="fas fa-external-link-alt"></i></a><br><a class="link" target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Extensional_and_intensional_definitions">https://en.wikipedia.org/wiki/Extensional_and_intensional_definitions<i class="fas fa-external-link-alt"></i></a>?</p>
</blockquote>
<p>This is not built-in Coq, but we can add them as Axioms.<br>Why not add everything?</p>
<blockquote>
<ol>
<li>One or multiple axioms combined might render <em>inconsistency</em>.</li>
<li>Code extraction might be problematic</li>
</ol>
</blockquote>
<blockquote>
<p>Fortunately, it is known that adding functional extensionality, in particular, is consistent.<br><a class="link" target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Consistency">consistency<i class="fas fa-external-link-alt"></i></a>:<br>   a consistent theory is one that does not contain a contradiction.</p>
</blockquote>
<h3 id="Adding-Axioms"><a href="#Adding-Axioms" class="headerlink" title="Adding Axioms"></a>Adding Axioms</h3><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Axiom</span> functional_extensionality : <span class="keyword">forall</span> {X Y: <span class="keyword">Type</span>}</span><br><span class="line">                                    {f g : X -&gt; Y},</span><br><span class="line">  (<span class="keyword">forall</span> (x:X), f x = g x) -&gt; f = g.</span><br></pre></td></tr></table></figure>

<p>It’s like <code>Admitted.</code> but alerts we’re not going to fill in later. </p>
<h3 id="Exercise-Proving-Reverse-with-app-and-with-cons-are-fn-exensionally-equivalent"><a href="#Exercise-Proving-Reverse-with-app-and-with-cons-are-fn-exensionally-equivalent" class="headerlink" title="Exercise - Proving Reverse with app and with cons are fn-exensionally equivalent."></a>Exercise - Proving Reverse with <code>app</code> and with <code>cons</code> are fn-exensionally equivalent.</h3><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Fixpoint</span> rev_append {X} (l1 l2 : list X) : list X :=</span><br><span class="line">  <span class="keyword">match</span> l1 <span class="built_in">with</span></span><br><span class="line">  | <span class="type">[] =&gt; l2</span></span><br><span class="line">  | <span class="type">x</span> :: l1' =&gt; rev_append l1' (x :: l2)</span><br><span class="line">  <span class="keyword">end</span>.</span><br><span class="line"></span><br><span class="line"><span class="keyword">Definition</span> tr_rev {X} (l : list X) : list X :=</span><br><span class="line">  rev_append l [].</span><br></pre></td></tr></table></figure>

<p>BTW, this version is <code>tail recursive</code> becuz the recursive call is the last operation needs to performed.<br>(In <code>rev</code> i.e. <code>rev t ++ [h]</code>, recursive call is a argument of function <code>++</code> and we are CBV.)</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Lemma</span> tr_rev_correct : <span class="keyword">forall</span> X, @tr_rev X = @rev X.</span><br></pre></td></tr></table></figure>



<h3 id="Propositions-and-Booleans"><a href="#Propositions-and-Booleans" class="headerlink" title="Propositions and Booleans"></a>Propositions and Booleans</h3><blockquote>
<p>We’ve seen two different ways of expressing logical claims in Coq: </p>
<ol>
<li>with booleans     (of type <code>bool</code>),  ; computational way</li>
<li>with propositions (of type <code>Prop</code>).  ; logical way</li>
</ol>
</blockquote>
<p>There’re two ways to define 42 is even:</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Example</span> even_42_bool : evenb <span class="number">42</span> = true.</span><br><span class="line"><span class="keyword">Example</span> even_42_prop : ∃k, <span class="number">42</span> = <span class="built_in">double</span> k.</span><br></pre></td></tr></table></figure>

<p>We wanna show there are <em>interchangable</em>.</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Theorem</span> even_bool_prop : ∀n,</span><br><span class="line">  evenb n = true ↔ ∃k, n = <span class="built_in">double</span> k.</span><br></pre></td></tr></table></figure>

<blockquote>
<p>In view of this theorem, we say that the<br>boolean computation <code>evenb n</code> <em>reflects</em> the truth of the proposition <code>∃ k, n = double k</code>.</p>
</blockquote>
<p>We can futhur general this to any equations representing as <code>bool</code> or <code>Prop</code>:</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Theorem</span> eqb_eq : ∀n1 n2 : nat,</span><br><span class="line">  n1 =? n2 = true ↔ n1 = n2.</span><br></pre></td></tr></table></figure>

<h4 id="Notes-on-Computability"><a href="#Notes-on-Computability" class="headerlink" title="Notes on Computability."></a>Notes on Computability.</h4><blockquote>
<p>However, even they are equivalent from a purely logical perspective,<br>they may not be equivalent <code>operationally</code>.</p>
</blockquote>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Fail <span class="keyword">Definition</span> is_even_prime n :=</span><br><span class="line">  <span class="keyword">if</span> n = <span class="number">2</span> <span class="keyword">then</span> true</span><br><span class="line">  <span class="keyword">else</span> false.</span><br><span class="line"></span><br><span class="line">Error: The term <span class="string">"n = 2"</span> has type <span class="string">"Prop"</span> which is not a (co-)inductive type.</span><br></pre></td></tr></table></figure>

<p><code>=</code>, or <code>eq</code>, as any function in Coq, need to be computable and total. And we have no way to tell <em>whether any given proposition is true or false</em>. (…We can only naturally deduce things are inductively defined)</p>
<blockquote>
<p>As a consequence, Prop in Coq does not have a universal case analysis operation telling whether any given proposition is true or false, since such an operation would allow us to write non-computable functions.</p>
</blockquote>
<blockquote>
<p>Although general non-computable properties cannot be phrased as boolean computations, it is worth noting that even many computable properties are easier to express using Prop than bool, since recursive function definitions are subject to significant restrictions in Coq.</p>
</blockquote>
<p>E.g. Verifying Regular Expr in next chapter. </p>
<blockquote>
<p>Doing the same with <code>bool</code> would amount to writing a <em>full regular expression matcher</em> (so we can execute the regex).</p>
</blockquote>
<h4 id="Proof-by-Reflection"><a href="#Proof-by-Reflection" class="headerlink" title="Proof by Reflection!"></a>Proof by Reflection!</h4><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* Logically *)</span></span><br><span class="line"><span class="keyword">Example</span> even_1000 : ∃k, <span class="number">1000</span> = <span class="built_in">double</span> k.</span><br><span class="line"><span class="keyword">Proof</span>. ∃<span class="number">500.</span> <span class="built_in">reflexivity</span>. <span class="keyword">Qed</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment">(* Computationally *)</span></span><br><span class="line"><span class="keyword">Example</span> even_1000' : evenb <span class="number">1000</span> = true.</span><br><span class="line"><span class="keyword">Proof</span>. <span class="built_in">reflexivity</span>. <span class="keyword">Qed</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment">(* Prove logical version by reflecting in computational version *)</span></span><br><span class="line"><span class="keyword">Example</span> even_1000'' : ∃k, <span class="number">1000</span> = <span class="built_in">double</span> k.</span><br><span class="line"><span class="keyword">Proof</span>. <span class="built_in">apply</span> even_bool_prop. <span class="built_in">reflexivity</span>. <span class="keyword">Qed</span>.</span><br></pre></td></tr></table></figure>

<blockquote>
<p>As an extreme example, the Coq proof of the famous <em>4-color theorem</em> uses reflection to reduce the analysis of hundreds of different cases to a boolean computation.</p>
</blockquote>
<h3 id="Classical-vs-Constructive-Logic"><a href="#Classical-vs-Constructive-Logic" class="headerlink" title="Classical vs. Constructive Logic"></a>Classical vs. Constructive Logic</h3><p>…</p>
<h2 id="Future-Schedule"><a href="#Future-Schedule" class="headerlink" title="Future Schedule"></a>Future Schedule</h2><blockquote>
<p>Proof got messier!<br>Lean on your past PLT experience</p>
</blockquote>
<p>As discussion leader</p>
<ul>
<li>having many materials now</li>
<li>selected troublesome and interesting ones</li>
</ul>
<!-- flag of hidden posts -->
            </div>

            
                <div class="post-copyright-info">
                    
<div class="article-copyright-info-container">
    <ul class="copyright-info-content">
        <li class="post-title">
            <span class="type">本文标题</span>：<span class="content">「SF-LC」6 Logic</span>
        </li>
        <li class="post-author">
            <span class="type">本文作者</span>：<span class="content">Pin Young</span>
        </li>
        <li class="post-time">
            <span class="type">创建时间</span>：<span class="content">2021-03-28 00:00:00</span>
        </li>
        <li class="post-link">
            <span class="type">本文链接</span>：<span class="content">posts/ba6f.html</span>
        </li>
        <li class="post-license">
            <span class="type">版权声明</span>：<span class="content">本博客所有文章除特别声明外，均采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> 许可协议。转载请注明出处！</span>
        </li>
    </ul>
    <div class="copy-copyright-info flex-center tooltip" data-content="复制版权信息" data-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/LF-%E9%80%BB%E8%BE%91%E5%9F%BA%E7%A1%80/">#LF (逻辑基础)</a>&nbsp;
                        </li>
                    
                        <li class="tag-item">
                            <a href="/tags/SF-%E8%BD%AF%E4%BB%B6%E5%9F%BA%E7%A1%80/">#SF (软件基础)</a>&nbsp;
                        </li>
                    
                        <li class="tag-item">
                            <a href="/tags/Coq/">#Coq</a>&nbsp;
                        </li>
                    
                        <li class="tag-item">
                            <a href="/tags/%E7%AC%94%E8%AE%B0/">#笔记</a>&nbsp;
                        </li>
                    
                </ul>
            

            

            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Prop-type"><span class="nav-number">1.</span> <span class="nav-text">Prop type</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Properties"><span class="nav-number">1.1.</span> <span class="nav-text">Properties</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Slide-Q-amp-A-1"><span class="nav-number">2.</span> <span class="nav-text">Slide Q&amp;A - 1.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Logical-Connectives"><span class="nav-number">3.</span> <span class="nav-text">Logical Connectives</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Conjuction-logical-and"><span class="nav-number">3.1.</span> <span class="nav-text">Conjuction (logical and)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#and-introduction"><span class="nav-number">3.1.1.</span> <span class="nav-text">and introduction</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#and-elimination"><span class="nav-number">3.1.2.</span> <span class="nav-text">and elimination</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Disjunction-locial-or"><span class="nav-number">3.2.</span> <span class="nav-text">Disjunction (locial or)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#or-elimination"><span class="nav-number">3.2.1.</span> <span class="nav-text">or elimination</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#or-introduction"><span class="nav-number">3.2.2.</span> <span class="nav-text">or introduction</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Falsehood-and-negation"><span class="nav-number">3.3.</span> <span class="nav-text">Falsehood and negation</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#False"><span class="nav-number">3.3.1.</span> <span class="nav-text">False?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Inequality"><span class="nav-number">3.3.2.</span> <span class="nav-text">Inequality</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Proving-of-negation-or-how-to-prove-%C2%ACP"><span class="nav-number">3.3.3.</span> <span class="nav-text">Proving of negation (or how to prove ¬P)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Tactic-exfalso"><span class="nav-number">3.3.4.</span> <span class="nav-text">Tactic exfalso.</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Slide-Q-amp-A-2"><span class="nav-number">4.</span> <span class="nav-text">Slide Q&amp;A - 2</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Truth"><span class="nav-number">4.1.</span> <span class="nav-text">Truth</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Logical-Equivalence"><span class="nav-number">4.2.</span> <span class="nav-text">Logical Equivalence</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Existential-Quantification"><span class="nav-number">4.3.</span> <span class="nav-text">Existential Quantification</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Intro"><span class="nav-number">4.3.1.</span> <span class="nav-text">Intro</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Elim"><span class="nav-number">4.3.2.</span> <span class="nav-text">Elim</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Programming-with-Propositions"><span class="nav-number">5.</span> <span class="nav-text">Programming with Propositions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#In-map"><span class="nav-number">5.1.</span> <span class="nav-text">In_map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Drawbacks"><span class="nav-number">5.2.</span> <span class="nav-text">Drawbacks</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Applying-Theorems-to-Arguments"><span class="nav-number">6.</span> <span class="nav-text">Applying Theorems to Arguments.</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Check-some-theorem-print-the-statement"><span class="nav-number">6.1.</span> <span class="nav-text">Check some_theorem print the statement!</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Proof-Object"><span class="nav-number">6.2.</span> <span class="nav-text">Proof Object</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Apply-theorem-as-function"><span class="nav-number">6.3.</span> <span class="nav-text">Apply theorem as function</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Coq-vs-Set-Theory"><span class="nav-number">7.</span> <span class="nav-text">Coq vs. Set Theory</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Functional-Extensionality"><span class="nav-number">7.1.</span> <span class="nav-text">Functional Extensionality</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Adding-Axioms"><span class="nav-number">7.2.</span> <span class="nav-text">Adding Axioms</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exercise-Proving-Reverse-with-app-and-with-cons-are-fn-exensionally-equivalent"><span class="nav-number">7.3.</span> <span class="nav-text">Exercise - Proving Reverse with app and with cons are fn-exensionally equivalent.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Propositions-and-Booleans"><span class="nav-number">7.4.</span> <span class="nav-text">Propositions and Booleans</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Notes-on-Computability"><span class="nav-number">7.4.1.</span> <span class="nav-text">Notes on Computability.</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Proof-by-Reflection"><span class="nav-number">7.4.2.</span> <span class="nav-text">Proof by Reflection!</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Classical-vs-Constructive-Logic"><span class="nav-number">7.5.</span> <span class="nav-text">Classical vs. Constructive Logic</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Future-Schedule"><span class="nav-number">8.</span> <span class="nav-text">Future Schedule</span></a></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            
<footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            ©
            
                <span>2014</span> -
            
            2023
            
                &nbsp;<i class="fas fa-heart icon-animate"></i>
                &nbsp;<a href="/">Pin Young</a>
            
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    访问人数&nbsp;<span id="busuanzi_value_site_uv"></span> 
                
                
                    总访问量&nbsp;<span id="busuanzi_value_site_pv"></span>
                
            </div>
        
        <div class="theme-info info-item">
            由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动&nbsp;|&nbsp;主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/dstansice">零域Lite 1.3.1</a>
        </div>
        
        
        <script async defer data-website-id="b3b1feba-ef0f-4367-ba34-6a0152b8749b" src="https://analysis.0skyu.cn/umami.js"></script>
         
            <div class="icp-info info-item">
            <div class="theme-info info-item">
                <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=12011002021027" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;"><img src="https://0skyu.cn/beian.png" style="float:left;"><p style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;">津公网安备 12011002021027号</p></a> 
                </div>
                 <div class="theme-info info-item">
               <center> <a target="_blank" rel="nofollow" href="https://beian.miit.gov.cn">
                    津ICP备2021004482号-1
                </a></center>
                </div>
                
            </div>
        
        
            <div class="deploy-info info-item">
                
                    <a target="_blank" rel="nofollow" href="https://hao.0skyu.cn/">
                
                    本站由 <span class="tooltip" data-content="腾讯云"><img src="/images/deploy-provider/tencent_cloud.png?v=9693e72d12"></span> 提供部署服务
                
                    </a>
                
            </div>
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        
            <li class="tools-item rss flex-center">
                <a class="flex-center" href="/atom.xml" target="_blank">
                    <i class="fas fa-rss"></i>
                </a>
            </li>
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input">
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>




<script src="/js/utils.js?v=cbd27e8569"></script>

<script src="/js/main.js?v=3ab50fd2bb"></script>

<script src="/js/header-shrink.js?v=0418df63d7"></script>

<script src="/js/back2top.js?v=139ceb0539"></script>

<script src="/js/dark-light-toggle.js?v=f21816b072"></script>





    
<script src="/js/local-search.js?v=0ce0b1d637"></script>




    
<script src="/js/code-block.js?v=63706df46d"></script>




    
<script src="/js/lazyload.js?v=f1e4b68ec3"></script>



<div class="post-scripts pjax">
    
        
<script src="/js/post-helper.js?v=34bd3800c9"></script>

        
            
<script src="/js/libs/anime.min.js?v=864a144dbb"></script>

        
        
            
<script src="/js/toc.js?v=037238356c"></script>

        
    
</div>


    
<script src="/js/libs/pjax.min.js?v=cdf1c08dca"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>

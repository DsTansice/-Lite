const $=new Env("block100");$.signKey100="ddgksf2013_usersignKeyblock100";var _0xod8="jsjiami.com.v6",_0xod8_=["_0xod8"],_0x2e11=[_0xod8,"undefined","url","body","headers","log","stringify","setdata","signKey100","subt","æ‹¦æˆª100èŽ·å–ä¼šè¯: æˆåŠŸ!","æ‹¦æˆª100èŽ·å–ä¼šè¯: å¤±è´¥!","msg","name","catch","logErr","finally","done","parse","getdata","https://tagit.hyhuo.com/cypt/block100/gain_vip","keep-alive","application/json","tagit.hyhuo.com","User-Agent","zh-TW,zh-Hant;q=0.9","*/*","lang=zh","gzip, deflate, br","post","signBody","statusCode","200","è‡ªåŠ¨æˆåŠŸé¢†å–3å¤©æ‹¦æˆª100ä¼šå‘˜ï¼","è‡ªåŠ¨é¢†å–3å¤©æ‹¦æˆª100ä¼šå‘˜å¤±è´¥ï¼","msr","QjXsjipaBmi.CcxkwRoQIZmSq.v6YGk=="];function _0x3756(t,e){return t=~~"0x".concat(t.slice(0)),_0x2e11[t]}!function(t,e){var s=0;for(e=t.shift(s>>2);e&&e!==(t.pop(s>>3)+"").replace(/[QXpBCxkwRQIZSqYGk=]/g,"");s++)s^=856553}(_0x2e11);let isGetCookie=typeof $request!==_0x3756("0");async function signin(){return new Promise(i=>{signbody=JSON[_0x3756("11")]($[_0x3756("12")]($[_0x3756("7")]))[_0x3756("2")],signheaders=JSON[_0x3756("11")]($[_0x3756("12")]($[_0x3756("7")]))[_0x3756("3")];var t={url:_0x3756("13"),headers:{Connection:_0x3756("14"),"Content-Type":_0x3756("15"),Host:_0x3756("16"),"User-Agent":signheaders[_0x3756("17")],"Accept-Language":_0x3756("18"),Accept:_0x3756("19"),Cookie:_0x3756("1a"),"Accept-Encoding":_0x3756("1b")},body:signbody};$[_0x3756("1c")](t,(t,e,s)=>{try{console[_0x3756("4")](s),$[_0x3756("1d")]=s,signStatus=e[_0x3756("1e")]}catch(t){$[_0x3756("e")](t,e)}finally{i()}})})}async function showmsg(){obj=$[_0x3756("1d")],signStatus==_0x3756("1f")?$[_0x3756("8")]=_0x3756("20"):$[_0x3756("8")]=_0x3756("21"),$[_0x3756("b")]($[_0x3756("c")],$[_0x3756("8")],$[_0x3756("22")])}function Env(a,t){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((i,r)=>{s.call(this,t,(t,e,s)=>{t?r(t):i(e)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`ðŸ””${this.name}, å¼€å§‹!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;if(this.getdata(t))try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(i=>{this.get({url:t},(t,e,s)=>i(s))})}runScript(a,o){return new Promise(i=>{let t=this.getdata("@chavy_boxjs_userCfgs.httpapi");t=t&&t.replace(/\n/g,"").trim();var e=(e=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"))?+e:20,[s,r]=(e=o&&o.timeout?o.timeout:e,t.split("@"));this.post({url:`http://${r}/v1/scripting/evaluate`,body:{script_text:a,mock_type:"cron",timeout:e},headers:{"X-Key":s,Accept:"*/*"}},(t,e,s)=>i(s))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};this.fs=this.fs||require("fs"),this.path=this.path||require("path");var t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}writedata(){var t,e,s,i,r;this.isNode()&&(this.fs=this.fs||require("fs"),this.path=this.path||require("path"),t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),i=!(s=this.fs.existsSync(t))&&this.fs.existsSync(e),r=JSON.stringify(this.data),!s&&i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r))}lodash_get(t,e,s){let i=t;for(const t of e.replace(/\[(\d+)\]/g,".$1").split("."))if(i=Object(i)[t],void 0===i)return s;return i}lodash_set(t,i,e){return Object(t)!==t||((i=Array.isArray(i)?i:i.toString().match(/[^.[\]]+/g)||[]).slice(0,-1).reduce((t,e,s)=>Object(t[e])===t[e]?t[e]:t[e]=Math.abs(i[s+1])>>0==+i[s+1]?[]:{},t)[i[i.length-1]]=e),t}getdata(t){let e=this.getval(t);if(/^@/.test(t)){var[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),s=s?this.getval(s):"";if(s)try{const t=JSON.parse(s);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){var[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),a=this.getval(i),a=i?"null"===a?null:a||"{}":"{}";try{const e=JSON.parse(a);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){a={};this.lodash_set(a,r,t),s=this.setval(JSON.stringify(a),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got||require("got"),this.cktough=this.cktough||require("tough-cookie"),this.ckjar=this.ckjar||new this.cktough.CookieJar,t&&(t.headers=t.headers||{},void 0===t.headers.Cookie)&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar)}get(t,r=()=>{}){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,e,s)=>{!t&&e&&(e.body=s,e.statusCode=e.status),r(t,e,s)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{var{statusCode:t,statusCode:e,headers:s,body:i}=t;r(null,{status:t,statusCode:e,headers:s,body:i},i)},t=>r(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{var s;t.headers["set-cookie"]&&(s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(),this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar)}catch(t){this.logErr(t)}}).then(t=>{var{statusCode:t,statusCode:e,headers:s,body:i}=t;r(null,{status:t,statusCode:e,headers:s,body:i},i)},t=>{var{message:t,response:e}=t;r(t,e,e&&e.body)}))}post(t,r=()=>{}){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,e,s)=>{!t&&e&&(e.body=s,e.statusCode=e.status),r(t,e,s)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{var{statusCode:t,statusCode:e,headers:s,body:i}=t;r(null,{status:t,statusCode:e,headers:s,body:i},i)},t=>r(t));else if(this.isNode()){this.initGotEnv(t);const{url:e,...s}=t;this.got.post(e,s).then(t=>{var{statusCode:t,statusCode:e,headers:s,body:i}=t;r(null,{status:t,statusCode:e,headers:s,body:i},i)},t=>{var{message:t,response:e}=t;r(t,e,e&&e.body)})}}time(t){var e,s={"M+":(new Date).getMonth()+1,"d+":(new Date).getDate(),"H+":(new Date).getHours(),"m+":(new Date).getMinutes(),"s+":(new Date).getSeconds(),"q+":Math.floor(((new Date).getMonth()+3)/3),S:(new Date).getMilliseconds()};for(e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,((new Date).getFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?s[e]:("00"+s[e]).substr((""+s[e]).length)));return t}msg(t=a,e="",s="",i){var r=t=>{return t&&("string"==typeof t?this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0:"object"==typeof t?this.isLoon()?{openUrl:t.openUrl||t.url||t["open-url"],mediaUrl:t.mediaUrl||t["media-url"]}:this.isQuanX()?{"open-url":t["open-url"]||t.url||t.openUrl,"media-url":t["media-url"]||t.mediaUrl}:this.isSurge()?{url:t.url||t.openUrl||t["open-url"]}:void 0:void 0)},r=(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(t,e,s,r(i)):this.isQuanX()&&$notify(t,e,s,r(i))),["","==============ðŸ“£ç³»ç»Ÿé€šçŸ¥ðŸ“£=============="]);r.push(t),e&&r.push(e),s&&r.push(s),console.log(r.join("\n")),this.logs=this.logs.concat(r)}log(...t){0<t.length&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){!this.isSurge()&&!this.isQuanX()&&!this.isLoon()?this.log("",`â—ï¸${this.name}, é”™è¯¯!`,t.stack):this.log("",`â—ï¸${this.name}, é”™è¯¯!`,t)}wait(e){return new Promise(t=>setTimeout(t,e))}done(t={}){var e=((new Date).getTime()-this.startTime)/1e3;this.log("",`ðŸ””${this.name}, ç»“æŸ! ðŸ•› ${e} ç§’`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(a,t)}(isGetCookie?(async()=>{var t={};t[_0x3756("1")]=$request[_0x3756("1")],t[_0x3756("2")]=$request[_0x3756("2")],t[_0x3756("3")]=$request[_0x3756("3")],console[_0x3756("4")](JSON[_0x3756("5")](t)),$[_0x3756("6")](JSON[_0x3756("5")](t),$[_0x3756("7")])?$[_0x3756("8")]=_0x3756("9"):$[_0x3756("8")]=_0x3756("a"),$[_0x3756("b")]($[_0x3756("c")],$[_0x3756("8")],"")})()[_0x3756("d")](t=>$[_0x3756("e")](t)):(async()=>{await signin(),await showmsg()})()[_0x3756("d")](t=>$[_0x3756("e")](t)))[_0x3756("f")](()=>$[_0x3756("10")]()),_0xod8="jsjiami.com.v6";
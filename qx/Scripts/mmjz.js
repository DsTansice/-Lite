const $=new Env("喵喵记账"),body1=($.signKey="mmjz_userSignKey",`--mm_form_data_boundry
Content-Disposition:form-data;name="data"


--mm_form_data_boundry--`),body2=`--Boundary+3C32A25CD7B91891
Content-Disposition: form-data; name="data"

RhBkKP769IGwWZxwMPUTcb0doII2KcAQtv9iqDfZONEHoE5lXSqQj/UmpgBGEMcf
--Boundary+3C32A25CD7B91891--
`,body3=`--Boundary+0E2797135A0E7AB4
Content-Disposition: form-data; name="data"


--Boundary+0E2797135A0E7AB4--
`,body4=`--Boundary+C2D35AE88A556F10
Content-Disposition: form-data; name="data"

ittS2ZZh4ruOGvAUUZl+ehJqYol0q3NlaGn0hkBPj0fXHPTAltsrsMCjX4xBahDm
--Boundary+C2D35AE88A556F10--
`,body5=`--Boundary+3851900AAA43A61A
Content-Disposition: form-data; name="data"

N0b/niwcPG2AjZpD1H0gBCMQomga8W+WTFjbeT8TYomJFybdtcJu0+60rjXiGJn/
--Boundary+3851900AAA43A61A--
`;let isGetCookie="undefined"!=typeof $request;function execSignin(){return new Promise(i=>{var t={url:"https://meow-api.sxyj.net/api/Member/SignNew",headers:{"Accept-Encoding":"gzip",Connection:"close","Content-Type":"multipart/form-data;boundary=mm_form_data_boundry",Host:"meow-api.sxyj.net","User-Agent":"喵喵记账 1.1.2 rv:2020060302 (iPhone; iOS 13.4.1; zh-Hans_HK)",cp:(signheaders=JSON.parse($.getdata($.signKey)).headers).cp},body:body1};$.post(t,(t,e,s)=>{try{console.log(s),signStatus=e.statusCode}catch(t){$.logErr(t,e)}finally{i()}})})}function execDouble(){return new Promise(i=>{var t={url:"https://meow-api.sxyj.net/api/Member/SignNewest",headers:{Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive","Content-Type":"multipart/form-data; boundary=Boundary+3C32A25CD7B91891",Host:"meow-api.sxyj.net","User-Agent":"%E5%96%B5%E5%96%B5%E8%AE%B0%E8%B4%A6/2020120702 CFNetwork/1125.2 Darwin/19.4.0","Accept-Language":"en-us",cp:(signheaders=JSON.parse($.getdata($.signKey)).headers).cp},body:body2};$.post(t,(t,e,s)=>{try{console.log(s),signStatus=e.statusCode}catch(t){$.logErr(t,e)}finally{i()}})})}function execGetfish(){return new Promise(i=>{var t={url:"https://meow-api.sxyj.net/api/Member/ReceiveDriedFish",headers:{Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive","Content-Type":"multipart/form-data; boundary=Boundary+0E2797135A0E7AB4",Host:"meow-api.sxyj.net","User-Agent":"%E5%96%B5%E5%96%B5%E8%AE%B0%E8%B4%A6/2020122101 CFNetwork/1125.2 Darwin/19.4.0","Accept-Language":"en-us",cp:(signheaders=JSON.parse($.getdata($.signKey)).headers).cp},body:body3};$.post(t,(t,e,s)=>{try{console.log(s),signStatus=e.statusCode}catch(t){$.logErr(t,e)}finally{i()}})})}function execReward(){return new Promise(i=>{var t={url:"https://meow-api.sxyj.net//api/Game/Accept",headers:{Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive","Content-Type":"multipart/form-data; boundary=Boundary+C2D35AE88A556F10",Host:"meow-api.sxyj.net","User-Agent":"%E5%96%B5%E5%96%B5%E8%AE%B0%E8%B4%A6/2020122101 CFNetwork/1125.2 Darwin/19.4.0","Accept-Language":"en-us",cp:(signheaders=JSON.parse($.getdata($.signKey)).headers).cp},body:body4};$.post(t,(t,e,s)=>{try{console.log(s),signStatus=e.statusCode}catch(t){$.logErr(t,e)}finally{i()}})})}function execReward4(){return new Promise(i=>{var t={url:"https://meow-api.sxyj.net//api/Game/Accept",headers:{Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive","Content-Type":"multipart/form-data; boundary=Boundary+3851900AAA43A61A",Host:"meow-api.sxyj.net","User-Agent":"%E5%96%B5%E5%96%B5%E8%AE%B0%E8%B4%A6/2020122101 CFNetwork/1125.2 Darwin/19.4.0","Accept-Language":"en-us",cp:(signheaders=JSON.parse($.getdata($.signKey)).headers).cp},body:body5};$.post(t,(t,e,s)=>{try{console.log(s),signStatus=e.statusCode}catch(t){$.logErr(t,e)}finally{i()}})})}function execShowmsg(){return new Promise(t=>{$.subt="签到成功！",$.msg($.name,$.subt),t()})}function Env(r,t){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((i,a)=>{s.call(this,t,(t,e,s)=>{t?a(t):i(e)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;if(this.getdata(t))try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(i=>{this.get({url:t},(t,e,s)=>i(s))})}runScript(r,o){return new Promise(i=>{let t=this.getdata("@chavy_boxjs_userCfgs.httpapi");t=t&&t.replace(/\n/g,"").trim();var e=(e=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"))?+e:20,[s,a]=(e=o&&o.timeout?o.timeout:e,t.split("@"));this.post({url:`http://${a}/v1/scripting/evaluate`,body:{script_text:r,mock_type:"cron",timeout:e},headers:{"X-Key":s,Accept:"*/*"}},(t,e,s)=>i(s))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};this.fs=this.fs||require("fs"),this.path=this.path||require("path");var t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}writedata(){var t,e,s,i,a;this.isNode()&&(this.fs=this.fs||require("fs"),this.path=this.path||require("path"),t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),i=!(s=this.fs.existsSync(t))&&this.fs.existsSync(e),a=JSON.stringify(this.data),!s&&i?this.fs.writeFileSync(e,a):this.fs.writeFileSync(t,a))}lodash_get(t,e,s){let i=t;for(const t of e.replace(/\[(\d+)\]/g,".$1").split("."))if(i=Object(i)[t],void 0===i)return s;return i}lodash_set(t,i,e){return Object(t)!==t||((i=Array.isArray(i)?i:i.toString().match(/[^.[\]]+/g)||[]).slice(0,-1).reduce((t,e,s)=>Object(t[e])===t[e]?t[e]:t[e]=Math.abs(i[s+1])>>0==+i[s+1]?[]:{},t)[i[i.length-1]]=e),t}getdata(t){let e=this.getval(t);if(/^@/.test(t)){var[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),s=s?this.getval(s):"";if(s)try{const t=JSON.parse(s);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){var[,i,a]=/^@(.*?)\.(.*?)$/.exec(e),r=this.getval(i),r=i?"null"===r?null:r||"{}":"{}";try{const e=JSON.parse(r);this.lodash_set(e,a,t),s=this.setval(JSON.stringify(e),i)}catch(e){r={};this.lodash_set(r,a,t),s=this.setval(JSON.stringify(r),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got||require("got"),this.cktough=this.cktough||require("tough-cookie"),this.ckjar=this.ckjar||new this.cktough.CookieJar,t&&(t.headers=t.headers||{},void 0===t.headers.Cookie)&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar)}get(t,a=()=>{}){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,e,s)=>{!t&&e&&(e.body=s,e.statusCode=e.status),a(t,e,s)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{var{statusCode:t,statusCode:e,headers:s,body:i}=t;a(null,{status:t,statusCode:e,headers:s,body:i},i)},t=>a(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{var s;t.headers["set-cookie"]&&(s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(),this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar)}catch(t){this.logErr(t)}}).then(t=>{var{statusCode:t,statusCode:e,headers:s,body:i}=t;a(null,{status:t,statusCode:e,headers:s,body:i},i)},t=>{var{message:t,response:e}=t;a(t,e,e&&e.body)}))}post(t,a=()=>{}){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,e,s)=>{!t&&e&&(e.body=s,e.statusCode=e.status),a(t,e,s)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{var{statusCode:t,statusCode:e,headers:s,body:i}=t;a(null,{status:t,statusCode:e,headers:s,body:i},i)},t=>a(t));else if(this.isNode()){this.initGotEnv(t);const{url:e,...s}=t;this.got.post(e,s).then(t=>{var{statusCode:t,statusCode:e,headers:s,body:i}=t;a(null,{status:t,statusCode:e,headers:s,body:i},i)},t=>{var{message:t,response:e}=t;a(t,e,e&&e.body)})}}time(t){var e,s={"M+":(new Date).getMonth()+1,"d+":(new Date).getDate(),"H+":(new Date).getHours(),"m+":(new Date).getMinutes(),"s+":(new Date).getSeconds(),"q+":Math.floor(((new Date).getMonth()+3)/3),S:(new Date).getMilliseconds()};for(e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,((new Date).getFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?s[e]:("00"+s[e]).substr((""+s[e]).length)));return t}msg(t=r,e="",s="",i){var a=t=>{return t&&("string"==typeof t?this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0:"object"==typeof t?this.isLoon()?{openUrl:t.openUrl||t.url||t["open-url"],mediaUrl:t.mediaUrl||t["media-url"]}:this.isQuanX()?{"open-url":t["open-url"]||t.url||t.openUrl,"media-url":t["media-url"]||t.mediaUrl}:this.isSurge()?{url:t.url||t.openUrl||t["open-url"]}:void 0:void 0)},a=(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(t,e,s,a(i)):this.isQuanX()&&$notify(t,e,s,a(i))),["","==============📣系统通知📣=============="]);a.push(t),e&&a.push(e),s&&a.push(s),console.log(a.join("\n")),this.logs=this.logs.concat(a)}log(...t){0<t.length&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){!this.isSurge()&&!this.isQuanX()&&!this.isLoon()?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(e){return new Promise(t=>setTimeout(t,e))}done(t={}){var e=((new Date).getTime()-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${e} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(r,t)}(isGetCookie?(async()=>{var t={};t.url=$request.url,t.headers=$request.headers,$.setdata(JSON.stringify(t),$.signKey)?$.subt="获取会话: 成功!":$.subt="获取会话: 失败!",$.msg($.name,$.subt,"")})().catch(t=>$.logErr(t)):(async()=>{await execSignin(),await execDouble(),await execGetfish(),await execGetfish(),await execGetfish(),await execReward(),await execReward4(),await execReward4(),await execReward4(),await execReward4(),await execShowmsg()})().catch(t=>$.logErr(t))).finally(()=>$.done());